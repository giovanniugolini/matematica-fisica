import{r as n,j as e}from"./index-B_gVeGiv.js";import{s as ee,a as te,b as ie,g as ne,d as D,C as P,S as E,e as N,G as se,A as oe,V as ae,F as re,f as q,h as le,P as G,N as de,i as ce,R as xe,k as fe}from"./components-D2LD_pbq.js";const z=[{id:"inv",name:"f(x) = 1/x",expr:"1/x",f:i=>1/i,x0Default:0,leftLimit:"-∞",rightLimit:"+∞",note:"Asintoto verticale in x=0"},{id:"inv-square",name:"f(x) = 1/x²",expr:"1/x²",f:i=>1/(i*i),x0Default:0,leftLimit:"+∞",rightLimit:"+∞",note:"Entrambi i limiti tendono a +∞"},{id:"inv-shifted",name:"f(x) = 1/(x-2)",expr:"1/(x-2)",f:i=>1/(i-2),x0Default:2,leftLimit:"-∞",rightLimit:"+∞",note:"Asintoto verticale in x=2"},{id:"inv-square-shifted",name:"f(x) = 1/(x-1)²",expr:"1/(x-1)²",f:i=>1/((i-1)*(i-1)),x0Default:1,leftLimit:"+∞",rightLimit:"+∞",note:"Asintoto verticale in x=1, sempre positivo"},{id:"neg-inv-square",name:"f(x) = -1/(x+1)²",expr:"-1/(x+1)²",f:i=>-1/((i+1)*(i+1)),x0Default:-1,leftLimit:"-∞",rightLimit:"-∞",note:"Asintoto verticale in x=-1, sempre negativo"},{id:"tan",name:"f(x) = tan(x)",expr:"tan(x)",f:i=>Math.tan(i),x0Default:Math.PI/2,leftLimit:"+∞",rightLimit:"-∞",note:"Asintoti verticali in x = π/2 + kπ"}];function he(){const[i,x]=n.useState(()=>typeof window<"u"?window.innerWidth:1200);return n.useEffect(()=>{const j=()=>x(window.innerWidth);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),i}function pe(){const i=he(),x=i<640,j=i>=640&&i<1024,V=i>=1024,[s,X]=n.useState(z[0]),[H,_]=n.useState(s.x0Default),[A,$]=n.useState(!0),[y,b]=n.useState(!1),[Y,F]=n.useState(null),[p,w]=n.useState(null),[g,W]=n.useState(!1),[L,O]=n.useState("left"),f=-5,h=5,o=ie(H,f+.5,h-.5),T=n.useMemo(()=>ee(s.f,f,h,500).filter(r=>Math.abs(r.y)<20),[s,f,h]),C=-10,M=10,{toX:d,toY:v}=n.useMemo(()=>te(f,h,C,M),[f,h,C,M]),k=n.useMemo(()=>{const t=[],a=[.5,.2,.1,.05,.01];for(const r of a){const c=o-r,l=s.f(c);Number.isFinite(l)&&Math.abs(l)<1e3&&t.push({x:c,fx:l})}return t},[s,o]),R=n.useMemo(()=>{const t=[],a=[.01,.05,.1,.2,.5];for(const r of a){const c=o+r,l=s.f(c);Number.isFinite(l)&&Math.abs(l)<1e3&&t.push({x:c,fx:l})}return t},[s,o]),U=n.useMemo(()=>ne(T,d,v),[T,d,v]),S=n.useRef(null);n.useEffect(()=>{if(!y){F(null);return}let t=null;const a=3e3,r=c=>{t||(t=c);const l=Math.min(1,(c-t)/a),B=2*Math.pow(1-l,2)+.01;if(F(L==="left"?o-B:o+B),l>=1){b(!1);return}S.current=requestAnimationFrame(r)};return S.current=requestAnimationFrame(r),()=>{S.current&&cancelAnimationFrame(S.current)}},[y,o,L]);const u=g&&p!==null?p:Y,m=u!==null?s.f(u):null,J=t=>{const a=z.find(r=>r.id===t);a&&(X(a),_(a.x0Default),b(!1),W(!1))},K={display:"flex",gap:8,flexWrap:"wrap",alignItems:"center",...x?{width:"100%",flexDirection:"column",alignItems:"stretch"}:{}},I=x?{width:"100%",justifyContent:"center"}:void 0,Q={display:"grid",gap:12,marginTop:12,...V?{gridTemplateColumns:"220px 1fr 1fr"}:j?{gridTemplateColumns:"1fr 1fr"}:{gridTemplateColumns:"1fr"}},Z=j?{gridColumn:"1 / -1"}:{};return e.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:16},children:[e.jsx("h1",{style:{fontSize:22,fontWeight:700,marginBottom:6},children:"Limite infinito per x → x₀ finito"}),e.jsxs("p",{style:{color:"#475569",marginBottom:12},children:["Studia il comportamento di funzioni con ",e.jsx("strong",{children:"asintoti verticali"}),": quando x si avvicina a x₀, f(x) tende a ±∞."]}),e.jsxs("div",{style:D,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,flexWrap:"wrap",gap:8},children:[e.jsxs("div",{style:{fontWeight:600,fontSize:16},children:["Grafico di ",s.name]}),e.jsxs("div",{style:K,children:[e.jsxs("select",{value:L,onChange:t=>O(t.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #cbd5e1",...x?{width:"100%"}:{}},children:[e.jsx("option",{value:"left",children:"Da sinistra (x⁻)"}),e.jsx("option",{value:"right",children:"Da destra (x⁺)"})]}),e.jsx(P,{onClick:()=>b(!0),disabled:y,style:I,children:y?"Animazione...":"▶ Anima"}),e.jsx(P,{onClick:()=>{W(!g),g||w(o-.5),g||b(!1)},active:g,style:I,children:"Manuale"}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,...x?{width:"100%"}:{}},children:[e.jsx("input",{type:"checkbox",checked:A,onChange:t=>$(t.target.checked)}),"Punti"]})]})]}),e.jsxs("svg",{viewBox:`0 0 ${E} ${N}`,style:{width:"100%",height:"auto",maxHeight:x?"55vh":"60vh"},children:[e.jsx(se,{id:"gridLimiteInf"}),e.jsx("rect",{x:0,y:0,width:E,height:N,fill:"url(#gridLimiteInf)"}),e.jsx(oe,{xMin:f,xMax:h,yMin:C,yMax:M,toX:d,toY:v}),e.jsx(ae,{x:o,toX:d,color:"#ef4444",label:`x₀ = ${o.toFixed(2)}`}),e.jsx(re,{pathD:U}),A&&e.jsxs(e.Fragment,{children:[e.jsx(q,{points:k,toX:d,toY:v,color:"#f97316",side:"left"}),e.jsx(q,{points:R,toX:d,toY:v,color:"#8b5cf6",side:"right"})]}),u!==null&&m!==null&&Number.isFinite(m)&&Math.abs(m)<50&&e.jsx(le,{x:u,y:m,toX:d,toY:v}),e.jsx("text",{x:d(o)-22,y:G+20,fontSize:14,fill:"#f97316",fontWeight:600,children:s.leftLimit}),e.jsx("text",{x:d(o)+10,y:G+20,fontSize:14,fill:"#8b5cf6",fontWeight:600,children:s.rightLimit})]}),s.note&&e.jsx(de,{note:s.note}),g&&e.jsxs("div",{style:{marginTop:12,padding:12,background:"#f0f9ff",borderRadius:8},children:[e.jsxs("label",{style:{fontSize:13},children:["x = ",(p==null?void 0:p.toFixed(4))??o.toFixed(4),e.jsx("input",{type:"range",min:f,max:h,step:.01,value:p??o,onChange:t=>w(parseFloat(t.target.value)),style:{width:"100%",marginTop:4}})]}),e.jsx("div",{style:{display:"flex",gap:6,marginTop:8},children:[-.5,-.1,-.01,.01,.1,.5].map(t=>e.jsxs("button",{onClick:()=>w(o+t),style:{flex:1,padding:4,borderRadius:4,border:"1px solid #3b82f6",background:"#fff",fontSize:11,cursor:"pointer"},children:["x₀",t>0?"+":"",t]},t))})]})]}),e.jsxs("div",{style:Q,children:[e.jsxs("div",{style:{...D,...Z},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Funzione"}),e.jsx(ce,{functions:z,selected:s.id,onSelect:J})]}),e.jsxs(xe,{title:"Limiti laterali",children:[e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsxs("div",{style:{padding:8,background:"#fff7ed",borderRadius:8},children:[e.jsx("div",{style:{fontSize:12,color:"#9a3412"},children:"Da sinistra (x → x₀⁻)"}),e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f97316"},children:["lim = ",s.leftLimit]})]}),e.jsxs("div",{style:{padding:8,background:"#f5f3ff",borderRadius:8},children:[e.jsx("div",{style:{fontSize:12,color:"#5b21b6"},children:"Da destra (x → x₀⁺)"}),e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#8b5cf6"},children:["lim = ",s.rightLimit]})]})]}),u!==null&&m!==null&&e.jsxs("div",{style:{marginTop:12,padding:8,background:"#fef3c7",borderRadius:8,fontSize:12},children:[e.jsxs("div",{children:["x = ",u.toFixed(4)]}),e.jsxs("div",{children:["f(x) = ",Number.isFinite(m)?m.toFixed(4):"±∞"]}),e.jsxs("div",{children:["|x - x₀| = ",Math.abs(u-o).toFixed(4)]})]})]}),e.jsxs("div",{style:D,children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Valori di avvicinamento"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,fontSize:11},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"#f97316",marginBottom:4},children:"Da sinistra"}),k.map((t,a)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:t.x.toFixed(3)}),e.jsx("span",{children:t.fx.toFixed(2)})]},a))]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"#8b5cf6",marginBottom:4},children:"Da destra"}),R.map((t,a)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:t.x.toFixed(3)}),e.jsx("span",{children:t.fx.toFixed(2)})]},a))]})]})]})]}),e.jsxs(fe,{children:["Il limite è ",e.jsx("strong",{children:"infinito"})," quando, avvicinandosi a x₀, i valori di f(x) crescono (o decrescono) senza limite. La retta x = x₀ è un ",e.jsx("strong",{children:"asintoto verticale"}),". I limiti da sinistra e da destra possono essere diversi (+∞ o -∞)."]})]})}export{pe as default};
