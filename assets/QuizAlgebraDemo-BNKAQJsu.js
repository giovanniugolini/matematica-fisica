import{r as z,j as c}from"./index-B_gVeGiv.js";import{u as N,Q as P,a as T,b as V,c as M,d as W,e as B}from"./useQuiz-9SUH5cgQ.js";import{b as j,c as y,r as l,s as v}from"./random-DShgH4QN.js";import{c as h,q as D}from"./latex-BtuKv87J.js";import"./Responsive-CZkJ6WC4.js";import"./Latex-BO5rSga0.js";import"./katex-p018AHG0.js";let F=0;function g(e="q"){return`${e}_${Date.now()}_${++F}`}function Q(e,t=!1){const o=["a","b","c","d"];return e.map((s,i)=>({id:o[i],text:String(s),isLatex:t}))}function G(){const e=y(-5,5),t=l(-10,10),o=l(-10,10),s=D(e,t,o),i=`${h(e,t,o)} = 0`,r=[t*t+4*e*o,t-4*e*o,4*e*o-t*t].filter(a=>a!==s),n=[...new Set(r)].slice(0,3);for(;n.length<3;){const a=s+y(-20,20);a!==s&&!n.includes(a)&&n.push(a)}const u=v([s,...n.slice(0,3)]),p=Q(u),$=p.find(a=>a.text===String(s)).id;return{id:g("disc"),type:"multiple_choice",prompt:`Calcola il discriminante dell'equazione $${i}$`,promptLatex:!0,options:p,correctOptionId:$,explanation:{correct:`Esatto! $\\Delta = b^2 - 4ac = ${t}^2 - 4 \\cdot ${e} \\cdot ${o} = ${s}$`,wrong:`Il discriminante si calcola con $\\Delta = b^2 - 4ac = ${t}^2 - 4 \\cdot ${e} \\cdot ${o} = ${s}$`},difficulty:"facile"}}function Z(){const e=j(["positive","zero","negative"]);let t,o,s;if(e==="positive")t=1,o=l(3,8),s=1;else if(e==="zero"){const a=l(1,5);t=1,o=-2*a,s=a*a}else t=1,o=l(-4,4),s=l(10,20);const i=D(t,o,s),r=`${h(t,o,s)} = 0`;let n;i>0?n="Due soluzioni reali distinte":i===0?n="Due soluzioni reali coincidenti":n="Nessuna soluzione reale";const p=Q(["Due soluzioni reali distinte","Due soluzioni reali coincidenti","Nessuna soluzione reale","Infinite soluzioni"]),$=p.find(a=>a.text===n).id;return{id:g("solcount"),type:"multiple_choice",prompt:`Quante soluzioni reali ha l'equazione $${r}$?`,promptLatex:!0,options:p,correctOptionId:$,explanation:{correct:`Corretto! Il discriminante Ã¨ $\\Delta = ${i}$, quindi l'equazione ha ${n.toLowerCase()}.`,wrong:`Il discriminante Ã¨ $\\Delta = ${i}$. Quando $\\Delta > 0$ ci sono due soluzioni distinte, quando $\\Delta = 0$ sono coincidenti, quando $\\Delta < 0$ non ci sono soluzioni reali.`},difficulty:"medio"}}function H(){const e=l(-6,6),t=l(-6,6),o=1,s=-(e+t),i=e*t,r=`${h(o,s,i)} = 0`;let n;if(e===t)n=`x = ${e}`;else{const x=[e,t].sort((b,m)=>b-m);n=`x = ${x[0]} \\text{ oppure } x = ${x[1]}`}const u=[];e===t?(u.push(`x = ${e+1}`),u.push(`x = ${-e}`),u.push(`x = ${e} \\text{ oppure } x = ${e+2}`)):(u.push(`x = ${e+t} \\text{ oppure } x = ${e*t}`),u.push(`x = ${-e} \\text{ oppure } x = ${-t}`),u.push(`x = ${e+1} \\text{ oppure } x = ${t-1}`));const p=v([n,...u.slice(0,3)]),$=Q(p,!0),a=$.find(x=>x.text===n).id;return{id:g("quadsol"),type:"multiple_choice",prompt:`Risolvi l'equazione $${r}$`,promptLatex:!0,options:$,correctOptionId:a,explanation:{correct:e===t?`Esatto! L'equazione ha una soluzione doppia $x = ${e}$`:`Esatto! Le soluzioni sono $x_1 = ${Math.min(e,t)}$ e $x_2 = ${Math.max(e,t)}$`,wrong:e===t?`L'equazione $(x - ${e})^2 = 0$ ha soluzione $x = ${e}$`:`L'equazione $(x - ${e})(x - ${t}) = 0$ ha soluzioni $x = ${e}$ e $x = ${t}$`},difficulty:"medio"}}function U(){const e=y(-5,5),t=l(-10,10),o=l(-10,10),s=`${h(e,t,o)} = 0`,i=e+t+o;return{id:g("coefsum"),type:"numeric",prompt:`Calcola la somma dei coefficienti $a + b + c$ per l'equazione $${s}$`,promptLatex:!0,validation:{exactValue:i,tolerance:0},placeholder:"Inserisci il risultato...",explanation:{correct:`Esatto! $a + b + c = ${e} + (${t}) + (${o}) = ${i}$`,wrong:`La somma Ã¨ $a + b + c = ${e} + (${t}) + (${o}) = ${i}$`},difficulty:"facile"}}function J(){const e=l(-5,5),t=l(-5,5),o=1,s=-(e+t),i=e*t,r=`${h(o,s,i)} = 0`,n=e*t;return{id:g("rootprod"),type:"numeric",prompt:`Calcola il prodotto delle soluzioni dell'equazione $${r}$`,promptLatex:!0,validation:{exactValue:n,tolerance:0},placeholder:"Inserisci il risultato...",explanation:{correct:`Corretto! Il prodotto delle radici Ã¨ $x_1 \\cdot x_2 = \\frac{c}{a} = ${n}$`,wrong:`Per un'equazione $ax^2 + bx + c = 0$, il prodotto delle radici Ã¨ $\\frac{c}{a} = ${n}$`},difficulty:"medio"}}function K(){const e=l(-5,5),t=l(-5,5),o=1,s=-(e+t),i=e*t,r=`${h(o,s,i)} = 0`,n=e+t;return{id:g("rootsum"),type:"numeric",prompt:`Calcola la somma delle soluzioni dell'equazione $${r}$`,promptLatex:!0,validation:{exactValue:n,tolerance:0},placeholder:"Inserisci il risultato...",explanation:{correct:`Corretto! La somma delle radici Ã¨ $x_1 + x_2 = -\\frac{b}{a} = ${n}$`,wrong:`Per un'equazione $ax^2 + bx + c = 0$, la somma delle radici Ã¨ $-\\frac{b}{a} = ${n}$`},difficulty:"medio"}}const S={discriminant:G,solutionCount:Z,quadraticSolution:H,coefficientSum:U,rootsProduct:J,rootsSum:K};function X(e,t){const o=Object.keys(S),s=[];for(let i=0;i<e;i++){const r=j(o);s.push(S[r]())}return s}const Y=7;function q(){return{id:`algebra-random-${Date.now()}`,title:"Quiz Equazioni di 2Â° grado",description:"Verifica le tue conoscenze sulle equazioni di secondo grado",questions:X(Y),shuffleQuestions:!1,shuffleOptions:!1,passingScore:60}}function re(){const[e,t]=z.useState(q),[o,s]=z.useState(!0),{state:i,questions:r,currentQuestion:n,score:u,start:p,answer:$,next:a,prev:x,submit:b,reset:m,isFirst:L,isLast:_,answeredCount:k,canSubmit:R,currentFeedback:d,showFeedback:O}=N({quiz:e,showImmediateFeedback:o}),E=z.useCallback(()=>{t(q()),m()},[m]),A=z.useCallback(()=>{t(q()),m()},[m]);return c.jsxs(P,{title:"Quiz: Equazioni di 2Â° grado",description:"Domande generate casualmente sulle equazioni di secondo grado",children:[i.status==="not_started"&&c.jsxs(c.Fragment,{children:[c.jsx(T,{title:e.title,description:e.description,questionCount:r.length,onStart:p}),c.jsx("div",{style:{marginTop:20,padding:16,background:"#f8fafc",borderRadius:12},children:c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"#334155"},children:[c.jsx("input",{type:"checkbox",checked:o,onChange:f=>s(f.target.checked),style:{width:18,height:18}}),"Mostra feedback immediato dopo ogni risposta"]})}),c.jsx("button",{onClick:A,style:{marginTop:16,width:"100%",padding:"12px 20px",borderRadius:10,border:"1px solid #d1d5db",background:"#fff",color:"#334155",fontSize:14,fontWeight:500,cursor:"pointer"},children:"ðŸŽ² Genera nuove domande"})]}),i.status==="in_progress"&&n&&c.jsxs(c.Fragment,{children:[c.jsx(V,{current:i.currentIndex,total:r.length,answeredCount:k}),c.jsx(M,{question:n,currentAnswer:i.answers[n.id]??null,onAnswer:f=>$(n.id,f),showFeedback:(d==null?void 0:d.shown)??!1,isCorrect:d==null?void 0:d.isCorrect,disabled:d==null?void 0:d.shown}),c.jsx(W,{onPrev:x,onNext:a,onSubmit:b,onShowFeedback:o?O:void 0,isFirst:L,isLast:_,canSubmit:R,showFeedbackButton:o&&i.answers[n.id]!==null&&i.answers[n.id]!==void 0,feedbackShown:(d==null?void 0:d.shown)??!1}),c.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginTop:24,flexWrap:"wrap"},children:r.map((f,C)=>{const I=i.answers[f.id]!==null&&i.answers[f.id]!==void 0,w=C===i.currentIndex;return c.jsx("div",{style:{width:28,height:28,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:600,background:w?"#3b82f6":I?"#22c55e":"#e2e8f0",color:w||I?"#fff":"#64748b",border:w?"2px solid #1d4ed8":"none"},children:C+1},f.id)})})]}),i.status==="completed"&&u&&c.jsx(B,{score:u,questions:r,answers:i.answers,onRetry:E,onBack:()=>window.location.href="#/"})]})}export{re as default};
