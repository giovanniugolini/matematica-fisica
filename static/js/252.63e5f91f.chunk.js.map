{"version":3,"file":"static/js/252.63e5f91f.chunk.js","mappings":"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","sources":["demos/intervalli-r/IntervalliRDemo.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\n/** ===== Types & constants ===== */\nconst SetKinds = {\n    CLOSED: \"[a,b]\",\n    OPEN: \"(a,b)\",\n    LEFT_OPEN: \"(a,b]\",\n    RIGHT_OPEN: \"[a,b)\",\n    RAY_RIGHT_CLOSED: \"[a, +∞)\",\n    RAY_RIGHT_OPEN: \"(a, +∞)\",\n    RAY_LEFT_CLOSED: \"(-∞, b]\",\n    RAY_LEFT_OPEN: \"(-∞, b)\",\n    WHOLE: \"(-∞, +∞)\",\n} as const;\ntype SetKind = typeof SetKinds[keyof typeof SetKinds];\n\ntype Geom = { left: number; right: number; width: number };\n\nfunction clamp(v: number, a: number, b: number) {\n    return Math.max(a, Math.min(b, v));\n}\n\n/** ---- helper type-guards (fix TS2345 sugli includes) ---- */\nfunction isFiniteInterval(k: SetKind) {\n    return (\n        [\n            SetKinds.CLOSED,\n            SetKinds.OPEN,\n            SetKinds.LEFT_OPEN,\n            SetKinds.RIGHT_OPEN,\n        ] as SetKind[]\n    ).includes(k);\n}\nfunction isRayRight(k: SetKind) {\n    return (\n        [SetKinds.RAY_RIGHT_CLOSED, SetKinds.RAY_RIGHT_OPEN] as SetKind[]\n    ).includes(k);\n}\nfunction isRayLeft(k: SetKind) {\n    return (\n        [SetKinds.RAY_LEFT_CLOSED, SetKinds.RAY_LEFT_OPEN] as SetKind[]\n    ).includes(k);\n}\nfunction usesA(k: SetKind) {\n    return isFiniteInterval(k) || isRayRight(k);\n}\nfunction usesB(k: SetKind) {\n    return isFiniteInterval(k) || isRayLeft(k);\n}\n\nfunction describeSet(kind: SetKind, a: number, b: number) {\n    const lowerBounded = isFiniteInterval(kind) || isRayRight(kind);\n    const upperBounded = isFiniteInterval(kind) || isRayLeft(kind);\n\n    const inf: number | \"-∞\" = lowerBounded ? a : \"-∞\";\n    const sup: number | \"+∞\" = upperBounded ? b : \"+∞\";\n\n    let hasMin = false;\n    let hasMax = false;\n    switch (kind) {\n        case SetKinds.CLOSED:\n            hasMin = true; hasMax = true; break;\n        case SetKinds.RIGHT_OPEN:\n            hasMin = true; hasMax = false; break;\n        case SetKinds.LEFT_OPEN:\n            hasMin = false; hasMax = true; break;\n        case SetKinds.OPEN:\n            hasMin = false; hasMax = false; break;\n        case SetKinds.RAY_RIGHT_CLOSED:\n            hasMin = true; hasMax = false; break;\n        case SetKinds.RAY_RIGHT_OPEN:\n            hasMin = false; hasMax = false; break;\n        case SetKinds.RAY_LEFT_CLOSED:\n            hasMin = false; hasMax = true; break;\n        case SetKinds.RAY_LEFT_OPEN:\n            hasMin = false; hasMax = false; break;\n        case SetKinds.WHOLE:\n            hasMin = false; hasMax = false; break;\n    }\n    return { lowerBounded, upperBounded, inf, sup, hasMin, hasMax };\n}\n\nfunction Marker({ x, included, label }: { x: number; included: boolean; label?: string }) {\n    const dotStyle: React.CSSProperties = {\n        width: 12, height: 12, borderRadius: \"50%\", border: \"2px solid #111\",\n        background: included ? \"#111\" : \"#fff\",\n    };\n    const wrap: React.CSSProperties = {\n        position: \"absolute\", left: x, top: 24, transform: \"translate(-50%,-50%)\", textAlign: \"center\",\n    };\n    const labelStyle: React.CSSProperties = { fontSize: 12, marginTop: 4, color: \"#334155\" };\n    return (\n        <div style={wrap}>\n            <div style={dotStyle} />\n            {label && <div style={labelStyle}>{label}</div>}\n        </div>\n    );\n}\n\n/** ===== Component ===== */\nexport default function IntervalliRDemo() {\n    // State\n    const [kind, setKind] = useState<SetKind>(SetKinds.CLOSED);\n    const [a, setA] = useState<number>(-2);\n    const [b, setB] = useState<number>(3);\n    const [speed, setSpeed] = useState<number>(0.8); // px/ms (convertita in unità matematiche via scala)\n    const [playing, setPlaying] = useState<boolean>(true);\n\n    // Geometria linea\n    const lineRef = useRef<HTMLDivElement | null>(null);\n    const [geom, setGeom] = useState<Geom>({ left: 0, right: 0, width: 0 });\n\n    useEffect(() => {\n        const updateGeom = () => {\n            const el = lineRef.current;\n            if (!el) return;\n            const r = el.getBoundingClientRect();\n            setGeom({ left: r.left, right: r.right, width: r.width });\n        };\n        updateGeom();\n        window.addEventListener(\"resize\", updateGeom);\n        return () => window.removeEventListener(\"resize\", updateGeom);\n    }, []);\n\n    // Mappatura ℝ <-> pixel\n    const view = useMemo(() => {\n        let minX: number, maxX: number;\n        if (isFiniteInterval(kind)) {\n            const pad = Math.max(1, (b - a) * 0.2);\n            minX = a - pad;\n            maxX = b + pad;\n        } else if (isRayRight(kind)) {\n            const m = Math.max(1, Math.abs(a) + 2);\n            minX = a - 2 * m;\n            maxX = a + 8 * m;\n        } else if (isRayLeft(kind)) {\n            const m = Math.max(1, Math.abs(b) + 2);\n            minX = b - 8 * m;\n            maxX = b + 2 * m;\n        } else {\n            minX = -10; maxX = 10;\n        }\n        const scale = geom.width > 0 ? (geom.width - 40) / (maxX - minX) : 1; // padding 20px lato\n        const toPx = (x: number) => 20 + (x - minX) * scale;\n        const fromPx = (px: number) => minX + (px - 20) / scale;\n        return { minX, maxX, toPx, fromPx, scale };\n    }, [geom.width, kind, a, b]);\n\n    const desc = useMemo(() => describeSet(kind, a, b), [kind, a, b]);\n\n    // Stato pallina (coordinate matematiche)\n    const [x, setX] = useState<number>((a + b) / 2);\n    const [vx, setVx] = useState<1 | -1>(1);\n    const lastT = useRef<number | null>(null);\n\n    useEffect(() => {\n        const center =\n            SetKinds.WHOLE === kind\n                ? 0\n                : Number.isFinite(a) && Number.isFinite(b)\n                    ? (a + b) / 2\n                    : Number.isFinite(a)\n                        ? a + 1\n                        : Number.isFinite(b)\n                            ? b - 1\n                            : 0;\n        setX(center);\n        setVx(1);\n    }, [kind, a, b]);\n\n    useEffect(() => {\n        if (!playing) { lastT.current = null; return; }\n        let raf = 0;\n        const tick = (t: number) => {\n            if (!lastT.current) lastT.current = t;\n            const dt = t - lastT.current; // ms\n            lastT.current = t;\n\n            const vu = speed / (view.scale || 1); // unità matematiche per ms\n            let nx = x + (vx >= 0 ? vu * dt : -vu * dt);\n\n            const hasLower = desc.lowerBounded;\n            const hasUpper = desc.upperBounded;\n            const lower = hasLower ? a : -Infinity;\n            const upper = hasUpper ? b : +Infinity;\n\n            if (nx <= lower && Number.isFinite(lower)) { nx = lower; setVx(1); }\n            else if (nx >= upper && Number.isFinite(upper)) { nx = upper; setVx(-1); }\n            else if (!Number.isFinite(upper) && nx > view.maxX + 2) { nx = view.minX - 1; }\n            else if (!Number.isFinite(lower) && nx < view.minX - 2) { nx = view.maxX + 1; }\n\n            setX(nx);\n            raf = requestAnimationFrame(tick);\n        };\n        raf = requestAnimationFrame(tick);\n        return () => cancelAnimationFrame(raf);\n    }, [playing, speed, view.scale, view.minX, view.maxX, x, vx, a, b, desc.lowerBounded, desc.upperBounded]);\n\n    const px = view.toPx(x);\n    const ax = Number.isFinite(a) ? view.toPx(a) : null;\n    const bx = Number.isFinite(b) ? view.toPx(b) : null;\n\n    // Estremi inclusi\n    const includeA = (\n        [SetKinds.CLOSED, SetKinds.RIGHT_OPEN, SetKinds.RAY_RIGHT_CLOSED] as SetKind[]\n    ).includes(kind);\n    const includeB = (\n        [SetKinds.CLOSED, SetKinds.LEFT_OPEN, SetKinds.RAY_LEFT_CLOSED] as SetKind[]\n    ).includes(kind);\n\n    /** ===== UI ===== */\n    const card: React.CSSProperties = { background: \"#fff\", borderRadius: 16, padding: 12, boxShadow: \"0 1px 4px rgba(0,0,0,0.1)\" };\n    const small: React.CSSProperties = { fontSize: 12, color: \"#64748b\" };\n\n    return (\n        <div style={{ padding: 24, maxWidth: 1000, margin: \"0 auto\" }}>\n            <h1 style={{ fontSize: 22, fontWeight: 700, marginBottom: 6 }}>\n                Pallina su una retta — inf, sup, minimo, massimo\n            </h1>\n            <p style={{ color: \"#334155\", marginBottom: 12 }}>\n                Scegli l'insieme: la pallina rimbalza sugli estremi se finiti; se non è limitato, prosegue oltre (con un piccolo “wrap” visuale).\n            </p>\n\n            <div style={{ display: \"grid\", gap: 12, gridTemplateColumns: \"1fr 1fr\" }}>\n                <div style={card}>\n                    <label style={{ display: \"block\", fontSize: 14, fontWeight: 600, marginBottom: 6 }}>Tipo di insieme</label>\n                    <select value={kind} onChange={(e) => setKind(e.target.value as SetKind)} style={{ width: \"100%\", padding: 8, borderRadius: 8, border: \"1px solid #cbd5e1\" }}>\n                        {Object.values(SetKinds).map((k) => <option key={k} value={k}>{k}</option>)}\n                    </select>\n                    <div style={{ ...small, marginTop: 6 }}>Prova aperti/chiusi e semiretti per vedere quando sup/inf sono raggiunti (min/max).</div>\n                </div>\n\n                <div style={card}>\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12 }}>\n                        <div>\n                            <label style={{ display: \"block\", fontSize: 14, fontWeight: 600 }}>a</label>\n                            <input type=\"number\" value={a} step={0.5} onChange={(e) => setA(parseFloat(e.target.value))}\n                                   style={{ width: \"100%\", padding: 8, borderRadius: 8, border: \"1px solid #cbd5e1\" }} />\n                        </div>\n                        <div>\n                            <label style={{ display: \"block\", fontSize: 14, fontWeight: 600 }}>b</label>\n                            <input type=\"number\" value={b} step={0.5} onChange={(e) => setB(parseFloat(e.target.value))}\n                                   style={{ width: \"100%\", padding: 8, borderRadius: 8, border: \"1px solid #cbd5e1\" }} />\n                        </div>\n                    </div>\n                    <div style={{ ...small, marginTop: 6 }}>Ignorato se non serve (per semiretti/ℝ usa solo a o b).</div>\n                </div>\n\n                <div style={card}>\n                    <label style={{ display: \"block\", fontSize: 14, fontWeight: 600 }}>Velocità</label>\n                    <input type=\"range\" min={0.2} max={2.0} step={0.1} value={speed}\n                           onChange={(e) => setSpeed(parseFloat(e.target.value))}\n                           style={{ width: \"100%\" }} />\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: 8, marginTop: 8 }}>\n                        <button onClick={() => setPlaying((p) => !p)}\n                                style={{ padding: \"6px 12px\", borderRadius: 10, border: \"1px solid #cbd5e1\", background: \"#fff\" }}>\n                            {playing ? \"Pausa\" : \"Play\"}\n                        </button>\n                        <div style={small}>{playing ? \"In esecuzione\" : \"In pausa\"}</div>\n                    </div>\n                </div>\n\n                <div style={card}>\n                    <div style={{ fontSize: 14, fontWeight: 600, marginBottom: 8 }}>Proprietà dell'insieme</div>\n                    <ul style={{ fontSize: 14, lineHeight: 1.8, margin: 0, paddingLeft: 18 }}>\n                        <li>Inferiormente limitato: <b>{desc.lowerBounded ? \"Sì\" : \"No\"}</b></li>\n                        <li>Superiormente limitato: <b>{desc.upperBounded ? \"Sì\" : \"No\"}</b></li>\n                        <li>Infimo: <b>{String(desc.inf)}</b> {desc.hasMin && <span style={{ fontSize: 12, color: \"#047857\" }}>(= minimo)</span>}</li>\n                        <li>Supremo: <b>{String(desc.sup)}</b> {desc.hasMax && <span style={{ fontSize: 12, color: \"#047857\" }}>(= massimo)</span>}</li>\n                        <li>Minimo esiste: <b>{desc.hasMin ? \"Sì\" : \"No\"}</b></li>\n                        <li>Massimo esiste: <b>{desc.hasMax ? \"Sì\" : \"No\"}</b></li>\n                    </ul>\n                </div>\n            </div>\n\n            {/* Number line */}\n            <div\n                ref={lineRef}\n                style={{\n                    position: \"relative\",\n                    border: \"1px solid #e5e7eb\",\n                    borderRadius: 16,\n                    background: \"#fff\",\n                    boxShadow: \"inset 0 1px 3px rgba(0,0,0,0.04)\",\n                    height: 160,\n                    overflow: \"hidden\",\n                    marginTop: 12\n                }}\n            >\n                {/* base line */}\n                <div style={{ position: \"absolute\", left: 20, right: 20, top: \"50%\", height: 2, background: \"#111827\" }} />\n\n                {/* infinity arrows */}\n                {!desc.lowerBounded && (\n                    <div style={{ position: \"absolute\", left: 8, top: \"50%\", transform: \"translateY(-50%)\" }}>\n                        <div style={{ width: 0, height: 0, borderTop: \"6px solid transparent\", borderBottom: \"6px solid transparent\", borderRight: \"12px solid #111827\" }} />\n                    </div>\n                )}\n                {!desc.upperBounded && (\n                    <div style={{ position: \"absolute\", right: 8, top: \"50%\", transform: \"translateY(-50%) rotate(180deg)\" }}>\n                        <div style={{ width: 0, height: 0, borderTop: \"6px solid transparent\", borderBottom: \"6px solid transparent\", borderRight: \"12px solid #111827\" }} />\n                    </div>\n                )}\n\n                {/* endpoints */}\n                {Number.isFinite(a) && usesA(kind) && ax !== null && (\n                    <Marker x={ax} included={includeA} label=\"a\" />\n                )}\n                {Number.isFinite(b) && usesB(kind) && bx !== null && (\n                    <Marker x={bx} included={includeB} label=\"b\" />\n                )}\n\n                {/* shaded interval */}\n                {(() => {\n                    const y = 20; const thickness = 6;\n                    let L = Number.isFinite(a) && ax !== null ? ax : 20;\n                    let R = Number.isFinite(b) && bx !== null ? bx : (geom.width - 20);\n                    if (isRayRight(kind) && ax !== null) { L = ax; R = geom.width - 20; }\n                    if (isRayLeft(kind) && bx !== null)  { L = 20; R = bx; }\n                    if (kind === SetKinds.WHOLE)         { L = 20; R = geom.width - 20; }\n                    const barWrap: React.CSSProperties = { position: \"absolute\", left: 0, right: 0, top: `calc(50% - ${y}px)` };\n                    const bar: React.CSSProperties = {\n                        position: \"absolute\",\n                        left: Math.min(L, R),\n                        width: Math.abs(R - L),\n                        height: thickness,\n                        background: \"rgba(59,130,246,0.25)\",\n                        top: -thickness / 2\n                    };\n                    return <div style={barWrap}><div style={bar} /></div>;\n                })()}\n\n                {/* ball */}\n                <div\n                    title=\"pallina\"\n                    style={{\n                        position: \"absolute\",\n                        width: 20,\n                        height: 20,\n                        borderRadius: \"50%\",\n                        background: \"#e11d48\",\n                        boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\n                        left: px,\n                        top: \"50%\",\n                        transform: \"translate(-50%, -50%)\"\n                    }}\n                />\n                {/* labels min/max */}\n                {desc.hasMin && Number.isFinite(a) && ax !== null && (\n                    <div style={{ position: \"absolute\", fontSize: 12, color: \"#047857\", left: ax, top: 64, transform: \"translateX(-50%)\" }}>min = a</div>\n                )}\n                {desc.hasMax && Number.isFinite(b) && bx !== null && (\n                    <div style={{ position: \"absolute\", fontSize: 12, color: \"#047857\", left: bx, top: 64, transform: \"translateX(-50%)\" }}>max = b</div>\n                )}\n            </div>\n\n            {/* legend */}\n            <div style={{ marginTop: 12, fontSize: 14, color: \"#334155\" }}>\n                <p style={{ margin: \"6px 0\" }}>\n                    <b>Legenda:</b> punto pieno = estremo incluso; punto vuoto = estremo escluso.\n                    Le frecce ai bordi indicano illimitatezza.\n                </p>\n                <p style={{ margin: \"6px 0\" }}>\n                    Per (a,b) la pallina non può toccare a o b: quindi non esistono min/max anche se inf = a e sup = b.\n                </p>\n            </div>\n        </div>\n    );\n}\n"],"names":["SetKinds","CLOSED","OPEN","LEFT_OPEN","RIGHT_OPEN","RAY_RIGHT_CLOSED","RAY_RIGHT_OPEN","RAY_LEFT_CLOSED","RAY_LEFT_OPEN","WHOLE","isFiniteInterval","k","includes","isRayRight","isRayLeft","usesB","Marker","_ref","x","included","label","dotStyle","width","height","borderRadius","border","background","wrap","position","left","top","transform","textAlign","_jsxs","style","children","_jsx","fontSize","marginTop","color","IntervalliRDemo","kind","setKind","useState","a","setA","b","setB","speed","setSpeed","playing","setPlaying","lineRef","useRef","geom","setGeom","right","useEffect","updateGeom","el","current","r","getBoundingClientRect","window","addEventListener","removeEventListener","view","useMemo","minX","maxX","pad","Math","max","m","abs","scale","toPx","fromPx","px","desc","lowerBounded","upperBounded","inf","sup","hasMin","hasMax","describeSet","setX","vx","setVx","lastT","center","Number","isFinite","raf","tick","t","dt","vu","nx","hasLower","hasUpper","lower","Infinity","upper","requestAnimationFrame","cancelAnimationFrame","ax","bx","includeA","includeB","card","padding","boxShadow","small","maxWidth","margin","fontWeight","marginBottom","display","gap","gridTemplateColumns","value","onChange","e","target","Object","values","map","_objectSpread","type","step","parseFloat","min","alignItems","onClick","p","lineHeight","paddingLeft","String","ref","overflow","borderTop","borderBottom","borderRight","L","R","barWrap","concat","bar","title"],"sourceRoot":""}