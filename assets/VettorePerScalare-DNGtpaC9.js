import{r as d,j as e}from"./index-B_gVeGiv.js";import"./katex-p018AHG0.js";import{D as G}from"./StepByStep-BYyVPvbC.js";import{u as J,a as K,R,T as z,c as Q,b as U}from"./Responsive-CZkJ6WC4.js";function E(s,r){return{x:s,y:r}}function X(s,r){return{x:s.x*r,y:s.y*r}}function T(s){return Math.sqrt(s.x*s.x+s.y*s.y)}function Y(s){return Math.atan2(s.y,s.x)}function Z(s){return Y(s)*(180/Math.PI)}const l={original:"#3b82f6",scaled:"#ef4444",grid:"#e5e7eb",axis:"#374151"},F=[{value:-2,label:"-2"},{value:-1,label:"-1"},{value:0,label:"0"},{value:.5,label:"Â½"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],ee=()=>{const s=Math.random()*2*Math.PI,r=1.5+Math.random()*2.5;return E(Math.round(r*Math.cos(s)*10)/10,Math.round(r*Math.sin(s)*10)/10)},V=({start:s={x:0,y:0},end:r,color:n,label:b,dashed:i=!1,toSvgX:y,toSvgY:h,headSize:m=10})=>{const f=y(s.x),k=h(s.y),o=y(r.x),c=h(r.y);if(Math.sqrt((o-f)**2+(c-k)**2)<5)return null;const u=Math.atan2(c-k,o-f),g=o-m*Math.cos(u-Math.PI/6),p=c-m*Math.sin(u-Math.PI/6),j=o-m*Math.cos(u+Math.PI/6),a=c-m*Math.sin(u+Math.PI/6);return e.jsxs("g",{children:[e.jsx("line",{x1:f,y1:k,x2:o,y2:c,stroke:n,strokeWidth:3,strokeDasharray:i?"8 4":void 0,strokeLinecap:"round"}),e.jsx("polygon",{points:`${o},${c} ${g},${p} ${j},${a}`,fill:n}),b&&e.jsx("text",{x:o+12*Math.cos(u-Math.PI/4),y:c+12*Math.sin(u-Math.PI/4),fontSize:14,fill:n,fontWeight:700,textAnchor:"middle",children:b})]})};function re(){const{isMobile:s,isTablet:r}=J(),[n,b]=d.useState(E(3,2)),[i,y]=d.useState(2),[h,m]=d.useState(!0),[f,k]=d.useState(!0),[o,c]=d.useState(!1),[A,u]=d.useState(i),g=s?350:r?500:600,p=s?300:r?400:450,j=s?30:35,a=d.useMemo(()=>t=>g/2+t*j,[g,j]),x=d.useMemo(()=>t=>p/2-t*j,[p,j]),M=o?A:i,v=d.useMemo(()=>X(n,M),[n,M]);d.useEffect(()=>{if(!o)return;const t=1,S=i,W=800,O=Date.now();let w=0;const $=()=>{const H=Date.now()-O,D=Math.min(H/W,1),N=1-Math.pow(1-D,3),_=t+(S-t)*N;u(_),D<1?w=requestAnimationFrame($):c(!1)};return w=requestAnimationFrame($),()=>cancelAnimationFrame(w)},[o,i]);const I=(t,S)=>{b(W=>({...W,[t]:S}))},B=()=>{b(ee()),y(F[Math.floor(Math.random()*F.length)].value)},L=()=>{u(1),c(!0),m(!0)},C=s?5:r?6:7,P=d.useMemo(()=>Array.from({length:C*2+1},(t,S)=>S-C).filter(t=>t!==0),[C]),q=s?"1fr":r?"1fr 1fr":"1fr 1fr 1fr";return e.jsxs(G,{title:"Prodotto Vettore Ã— Scalare",description:"Moltiplica un vettore per uno scalare e osserva come cambia modulo e direzione.",children:[e.jsxs(K,{columns:{mobile:1,tablet:2,desktop:2},gap:12,children:[e.jsxs(R,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("span",{style:{fontWeight:600,color:l.original},children:"ðŸ“ Vettore v"}),e.jsx(z,{variant:"ghost",size:"sm",onClick:B,children:"ðŸŽ² Casuale"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"x ="}),e.jsx("input",{type:"number",step:.5,value:n.x,onChange:t=>I("x",parseFloat(t.target.value)||0),style:{width:"100%",padding:s?"12px":"8px",borderRadius:8,border:"1px solid #d1d5db",fontSize:16,marginTop:4}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"y ="}),e.jsx("input",{type:"number",step:.5,value:n.y,onChange:t=>I("y",parseFloat(t.target.value)||0),style:{width:"100%",padding:s?"12px":"8px",borderRadius:8,border:"1px solid #d1d5db",fontSize:16,marginTop:4}})]})]}),e.jsxs("div",{style:{marginTop:12,padding:10,background:"#eff6ff",borderRadius:8,fontSize:13},children:[e.jsx("strong",{children:"|v|"})," = ",T(n).toFixed(2)," Â Â ",e.jsx("strong",{children:"Î¸"})," = ",Z(n).toFixed(1),"Â°"]})]}),e.jsxs(R,{children:[e.jsx("div",{style:{fontWeight:600,color:"#22c55e",marginBottom:12},children:"âœ–ï¸ Scalare k"}),e.jsx(Q,{value:i,onChange:y,min:-3,max:3,step:.5,formatValue:t=>t.toString()}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginTop:12},children:F.map(t=>e.jsx("button",{onClick:()=>y(t.value),style:{padding:s?"10px 14px":"6px 12px",borderRadius:6,border:i===t.value?"2px solid #22c55e":"1px solid #d1d5db",background:i===t.value?"#dcfce7":"#fff",cursor:"pointer",fontWeight:i===t.value?600:400,fontSize:14,minWidth:40},children:t.label},t.value))}),e.jsxs("div",{style:{marginTop:12,padding:10,background:i<0?"#fef2f2":i===0?"#f8fafc":"#f0fdf4",borderRadius:8,fontSize:12,color:i<0?"#991b1b":i===0?"#64748b":"#166534"},children:[i<0&&"âš ï¸ k < 0: direzione opposta",i===0&&"âš ï¸ k = 0: vettore nullo",i>0&&i<1&&"ðŸ“‰ 0 < k < 1: vettore ridotto",i===1&&"âž¡ï¸ k = 1: vettore invariato",i>1&&"ðŸ“ˆ k > 1: vettore amplificato"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:12,flexWrap:"wrap",justifyContent:s?"stretch":"flex-start"},children:[e.jsx(z,{variant:f?"secondary":"primary",onClick:()=>k(!f),fullWidth:s,children:f?"ðŸ‘ï¸ Nascondi v":"ðŸ‘ï¸ Mostra v"}),e.jsx(z,{variant:h?"secondary":"primary",onClick:()=>m(!h),fullWidth:s,children:h?"ðŸ‘ï¸ Nascondi kÂ·v":"ðŸ‘ï¸ Mostra kÂ·v"}),e.jsx(z,{variant:"outline",onClick:L,disabled:o,fullWidth:s,children:"â–¶ï¸ Anima"})]}),e.jsxs(R,{style:{marginTop:12},children:[e.jsxs(U,{width:g,height:p,maxHeight:{mobile:"50vh",tablet:"55vh",desktop:"60vh"},children:[e.jsx("rect",{x:0,y:0,width:g,height:p,fill:"#fafafa",rx:8}),P.map(t=>e.jsxs("g",{children:[e.jsx("line",{x1:a(t),y1:0,x2:a(t),y2:p,stroke:l.grid,strokeWidth:1}),e.jsx("line",{x1:0,y1:x(t),x2:g,y2:x(t),stroke:l.grid,strokeWidth:1})]},`grid-${t}`)),e.jsx("line",{x1:0,y1:x(0),x2:g,y2:x(0),stroke:l.axis,strokeWidth:2}),e.jsx("line",{x1:a(0),y1:0,x2:a(0),y2:p,stroke:l.axis,strokeWidth:2}),e.jsx("text",{x:g-15,y:x(0)-8,fontSize:14,fill:l.axis,fontWeight:600,children:"x"}),e.jsx("text",{x:a(0)+8,y:18,fontSize:14,fill:l.axis,fontWeight:600,children:"y"}),P.filter(t=>t%2===0).map(t=>e.jsxs("g",{children:[e.jsx("text",{x:a(t),y:x(0)+16,fontSize:10,textAnchor:"middle",fill:"#6b7280",children:t}),e.jsx("text",{x:a(0)-8,y:x(t)+4,fontSize:10,textAnchor:"end",fill:"#6b7280",children:t})]},`tick-${t}`)),h&&M!==0&&e.jsx(V,{end:v,color:l.scaled,label:"kÂ·v",dashed:M<0,toSvgX:a,toSvgY:x}),f&&e.jsx(V,{end:n,color:l.original,label:"v",toSvgX:a,toSvgY:x}),e.jsx("circle",{cx:a(0),cy:x(0),r:4,fill:l.axis})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:s?12:20,fontSize:s?11:12,flexWrap:"wrap",justifyContent:"center"},children:[f&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:4,background:l.original,borderRadius:2}}),e.jsxs("span",{children:[e.jsx("strong",{children:"v"})," = (",n.x.toFixed(1),", ",n.y.toFixed(1),")"]})]}),h&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:4,background:l.scaled,borderRadius:2}}),e.jsxs("span",{children:[e.jsx("strong",{children:"kÂ·v"})," = (",v.x.toFixed(1),", ",v.y.toFixed(1),")"]})]})]})]}),h&&e.jsxs(R,{style:{marginTop:12,background:"#f0fdf4"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8,color:"#166534"},children:"ðŸ“Š Risultato"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:q,gap:12,fontSize:14},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Formula"}),e.jsxs("div",{children:[e.jsx("strong",{children:"k Â· v"})," = ",i," Â· (",n.x,", ",n.y,")"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Risultato"}),e.jsxs("div",{children:[e.jsx("strong",{children:"k Â· v"})," = (",v.x.toFixed(2),", ",v.y.toFixed(2),")"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#6b7280",fontSize:12},children:"Moduli"}),e.jsxs("div",{children:["|v| = ",T(n).toFixed(2)," â†’ |kÂ·v| = ",T(v).toFixed(2)]})]})]})]}),e.jsxs("div",{style:{marginTop:12,background:"#eff6ff",borderRadius:12,padding:16,fontSize:13,color:"#1e3a8a"},children:[e.jsx("strong",{children:"ðŸ’¡ Prodotto vettore Ã— scalare:"}),e.jsxs("ul",{style:{paddingLeft:20,margin:"8px 0 0 0"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"k Â· v = (kÂ·vâ‚“, kÂ·váµ§)"})," â€“ moltiplica ogni componente"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"|kÂ·v| = |k| Â· |v|"})," â€“ il modulo viene scalato"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"k > 0"}),": stessa direzione di v"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"k < 0"}),": direzione opposta (tratteggiato)"]})]})]})]})}export{re as default};
