import{r as j,j as e}from"./index-B_gVeGiv.js";import{L as g}from"./Latex-BO5rSga0.js";import{u as pe,S as W,D as se,G as re,P as ae,N as le}from"./StepByStep-BYyVPvbC.js";import{u as he,S as fe,C as de,a as ge}from"./Responsive-CZkJ6WC4.js";import{C as Z}from"./CollapsibleExplanation-Crvq_lSj.js";import{R as ce}from"./ResponsiveButtonGroup-BjjqODnY.js";import{c as v,r as h}from"./random-DShgH4QN.js";import{c as I,a as K,j as S,f as B,p as H,n as je,o as ue,m as be}from"./latex-BtuKv87J.js";import"./katex-p018AHG0.js";function ee(i){if(!("c"in i))return S(i.a)?[]:[-i.b/i.a];const{a:o,b:t,c:n}=i;if(S(o))return S(t)?[]:[-n/t];const r=t*t-4*o*n;if(r<0)return[];if(S(r))return[-t/(2*o)];const s=Math.sqrt(r),d=(-t-s)/(2*o),p=(-t+s)/(2*o);return[d,p].sort((a,l)=>a-l)}function Y(i){return"c"in i?I(i.a,i.b,i.c):K(i.a,i.b)}function J(i){const o=ee(i);return o.length===0?`(${Y(i)})`:o.length===1?`(${V(o[0])})`:`(${V(o[0])})(${V(o[1])})`}function me(i){return"k"in i?`${i.k}`:"c"in i?I(i.a,i.b,i.c):K(i.a,i.b)}function T(i){const t=[];for(const r of i)t.push(...ee(r));const n=[];for(const r of t)n.some(s=>Math.abs(s-r)<1e-9)||n.push(r);return n.sort((r,s)=>r-s)}function $e(i){const o=T(i);return o.length===0?"1":o.map(t=>`(${V(t)})`).join("")}function xe(i,o){const n=T(o),r=ee(i),s=n.filter(d=>!r.some(p=>Math.abs(p-d)<1e-9));return s.length===0?"1":s.map(d=>`(${V(d)})`).join("")}function V(i){if(S(i))return"x";const o=Math.abs(i),t=B(o);return`x ${i>0?"-":"+"} ${t}`}function ke(){const{isMobile:i}=he(),[o,t]=j.useState("base"),[n,r]=j.useState(()=>G("base")),{currentStep:s,nextStep:d,prevStep:p,showAll:a,reset:l}=pe(4),b=u=>s>=u-1,q=j.useCallback(()=>{r(G(o)),l()},[o,l]),D=j.useCallback(u=>{const Q=u;t(Q),r(G(Q)),l()},[l]),{candidates:$,admissible:c,detailsLatex:z}=j.useMemo(()=>ze(n),[n]),m=Y(n.den1),x=Y(n.den2),R=me(n.num1),C=me(n.num2),E=`\\frac{${R}}{${m}} = \\frac{${C}}{${x}}`,f=j.useMemo(()=>[n.den1,n.den2],[n.den1,n.den2]),y=j.useMemo(()=>$e(f),[f]),A=j.useMemo(()=>xe(n.den1,f),[n.den1,f]),k=j.useMemo(()=>xe(n.den2,f),[n.den2,f]),U=`${H(R)}${A==="1"?"":A} = ${H(C)}${k==="1"?"":k}`,ne=j.useMemo(()=>{const u=`${H(R)}${A==="1"?"":A}`,Q=`${H(C)}${k==="1"?"":k}`;return`\\frac{${u}}{\\cancel{${y}}} = \\frac{${Q}}{\\cancel{${y}}}`},[R,C,A,k,y]),M=n.degree===1?`${K(n.B,n.C)} = 0`:`${I(n.A,n.B,n.C)} = 0`,L=j.useMemo(()=>T(f),[f]),w=L.length?L.map(u=>B(u)).join(", "):"\\emptyset",F=$.length===0?"\\emptyset":$.map(u=>B(u)).join(",\\; "),N=c.length===0?"\\emptyset":c.map(u=>B(u)).join(",\\; "),P=n.degree===2?je(n.A,n.B,n.C):null,X=P==="pura"?"pura (b=0)":P==="spuria"?"spuria (c=0)":"completa",_=e.jsxs(W,{stepNumber:1,title:"Condizione di esistenza",color:"green",isActive:b(1),children:[e.jsx(Z,{title:"Condizione di Esistenza (C.E.)",children:e.jsxs("div",{children:["I denominatori devono essere diversi da zero:",e.jsx("br",{}),"c"in n.den1?`Il denominatore ${m} si scompone in ${J(n.den1)}.`:`Il denominatore ${m} si annulla per $x = ${-n.den1.b/n.den1.a}$.`,e.jsx("br",{}),"c"in n.den2?`Il denominatore ${x} si scompone in ${J(n.den2)}.`:`Il denominatore ${x} si annulla per $x = ${-n.den2.b/n.den2.a}$.`]})}),e.jsxs("div",{style:{fontSize:i?15:16,padding:"8px 12px",background:"#fff",borderRadius:6},children:[e.jsx(g,{display:!0,children:`${m} \\neq 0 \\quad \\land \\quad ${x} \\neq 0`}),e.jsx(g,{display:!0,children:`x \\neq ${w}`})]})]}),O=e.jsxs(W,{stepNumber:2,title:"m.c.m. e trasformazione",color:"blue",isActive:b(2),children:[e.jsx(Z,{title:"Scomposizione e m.c.m.",children:e.jsxs("div",{children:[e.jsx("strong",{children:"Scomponiamo i denominatori:"}),e.jsx("br",{}),"c"in n.den1?`Il denominatore ${m} si scompone in ${J(n.den1)}.`:`Il denominatore ${m} √® lineare.`,e.jsx("br",{}),"c"in n.den2?`Il denominatore ${x} si scompone in ${J(n.den2)}.`:`Il denominatore ${x} √® lineare.`,e.jsx("br",{}),e.jsx("strong",{children:"m.c.m.:"})," ",y,".",e.jsx("br",{}),"Moltiplichiamo entrambi i membri per il m.c.m. e otteniamo:"]})}),e.jsxs("div",{style:{fontSize:i?15:16,padding:"8px 12px",background:"#fff",borderRadius:6},children:[e.jsx(g,{display:!0,children:`\\text{m.c.m.} = ${y}`}),e.jsx(g,{display:!0,children:ne}),e.jsx(g,{display:!0,children:`\\Rightarrow ${U}`})]})]}),ie=e.jsxs(W,{stepNumber:3,title:"Risoluzione",color:"amber",isActive:b(3),children:[e.jsx(Z,{title:"Passaggi algebrici",children:e.jsxs("div",{children:[e.jsx("strong",{children:"Equazione dopo il m.c.m.:"}),e.jsx("br",{}),M,e.jsx("br",{}),n.degree===2?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Classificazione:"})," ",X,".",e.jsx("br",{}),e.jsx("strong",{children:"Discriminante:"}),e.jsx("br",{}),`Delta = ${n.B}^2 - 4(${n.A})(${n.C}) = ${n.B*n.B-4*n.A*n.C}`,e.jsx("br",{}),n.B*n.B-4*n.A*n.C>0?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Soluzioni:"}),e.jsx("br",{}),`x = \\frac{${-n.B} \\pm \\sqrt{${n.B*n.B-4*n.A*n.C}}}{2 \\cdot ${n.A}}`]}):n.B*n.B-4*n.A*n.C===0?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Soluzione doppia:"}),e.jsx("br",{}),`x = \\frac{${-n.B}}{2 \\cdot ${n.A}}`]}):e.jsx("strong",{children:"Nessuna soluzione reale (Delta < 0)."})]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Soluzione:"}),e.jsx("br",{}),`x = ${ue(-n.C,n.B)}`]})]})}),e.jsx("div",{style:{fontSize:i?17:18,padding:"8px 12px",background:"#fff7ed",borderRadius:6,border:"1px solid #fed7aa"},children:e.jsx(g,{children:M})}),n.degree===2&&e.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#64748b"},children:["Classificazione: ",e.jsx("strong",{children:X})]}),e.jsx("div",{style:{marginTop:10,fontSize:12,color:"#64748b"},children:"Svolgimento:"}),e.jsx("div",{style:{marginTop:6,fontSize:16},children:e.jsx(g,{display:!0,children:z})})]}),te=e.jsxs(W,{stepNumber:4,title:"Verifica C.E. e soluzioni",color:"purple",isActive:b(4),children:[e.jsx(Z,{title:"Verifica delle soluzioni",children:e.jsxs("div",{children:[e.jsx("strong",{children:"Soluzioni candidate:"}),e.jsx("br",{}),F,e.jsx("br",{}),e.jsx("strong",{children:"Condizione di Esistenza (C.E.):"}),e.jsx("br",{}),`I valori esclusi sono: ${w}.`,e.jsx("br",{}),$.length>c.length?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Soluzioni non ammissibili:"}),e.jsx("br",{}),`Le soluzioni ${$.filter(u=>!c.includes(u)).map(u=>B(u)).join(", ")} non rispettano la C.E.`,e.jsx("br",{}),e.jsx("strong",{children:"Soluzioni ammissibili:"}),e.jsx("br",{}),N]}):e.jsx("strong",{children:"Tutte le soluzioni sono ammissibili."})]})}),e.jsx("div",{style:{fontSize:12,color:"#64748b",marginBottom:6},children:"Soluzioni candidate:"}),e.jsx("div",{style:{fontSize:15,padding:"8px 12px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",overflowX:"auto",marginBottom:10},children:e.jsx(g,{children:$.length===0?"\\emptyset":`\\left\\{ ${F} \\right\\}`})}),e.jsx("div",{style:{fontSize:12,color:"#64748b",marginBottom:6},children:"Verifica C.E.:"}),e.jsx("div",{style:{fontSize:14,padding:"8px 12px",background:"#f0fdf4",borderRadius:6,border:"1px solid #bbf7d0",marginBottom:10,overflowX:"auto"},children:e.jsx(g,{children:`x \\neq ${w}`})}),e.jsx("div",{style:{fontSize:12,color:"#64748b",marginBottom:6},children:"Soluzioni ammissibili:"}),e.jsx("div",{style:{fontSize:15,padding:"8px 12px",background:"#dcfce7",borderRadius:6,border:"1px solid #86efac",color:"#166534",fontWeight:700,overflowX:"auto"},children:e.jsx(g,{children:c.length===0?"\\emptyset":`\\left\\{ ${N} \\right\\}`})}),$.length>c.length&&e.jsx("div",{style:{marginTop:10,fontSize:12,color:"#991b1b"},children:"Alcune soluzioni candidate sono state scartate perch√© non rispettano la C.E."})]}),oe=e.jsx("div",{style:{fontSize:13},children:e.jsxs("ol",{style:{margin:0,paddingLeft:20},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Condizione di esistenza:"})," escludi i valori che annullano i denominatori."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"m.c.m. e trasformazione:"})," moltiplica entrambi i membri per il m.c.m."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risoluzione:"})," risolvi l‚Äôequazione senza denominatori; se √® di 2¬∞ grado usa Œî."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verifica:"})," elimina i candidati che violano la C.E."]})]})});return i?e.jsxs(se,{title:"Equazioni frazionarie",description:"Risolvi step-by-step",children:[e.jsx("div",{style:{marginBottom:12},children:e.jsx(ce,{options:[{label:"Base",value:"base"},{label:"Intermedio",value:"intermedio"}],selectedValue:o,onChange:D})}),e.jsx("div",{style:{marginBottom:12},children:e.jsx(re,{text:"Nuova",onClick:q})}),e.jsxs(ae,{label:"Risolvi:",children:[e.jsx("div",{style:{fontSize:18},children:e.jsx(g,{display:!0,children:E})}),e.jsxs("div",{style:{marginTop:10,fontSize:12,color:"#64748b"},children:["Tipo: ",e.jsx("strong",{children:n.degree===1?"1¬∞ grado (dopo m.c.m.)":"2¬∞ grado (dopo m.c.m.)"})]})]}),e.jsx(le,{currentStep:s,totalSteps:4,onNext:d,onPrev:p,onShowAll:a}),e.jsx(fe,{tabs:[{id:"steps",label:"üìù Steps",content:e.jsxs("div",{style:{display:"grid",gap:12},children:[_,O,ie,te]})},{id:"method",label:"üí° Metodo",content:e.jsx(de,{title:"Metodo di risoluzione",defaultOpen:!0,children:oe})}],defaultTab:"steps"})]}):e.jsxs(se,{title:"Equazioni frazionarie",description:"Risolvi equazioni frazionarie passo dopo passo.",children:[e.jsx("div",{style:{marginBottom:16},children:e.jsx(ce,{options:[{label:"Base",value:"base"},{label:"Intermedio",value:"intermedio"}],selectedValue:o,onChange:D})}),e.jsx("div",{style:{marginBottom:16},children:e.jsx(re,{text:"Nuova equazione",onClick:q})}),e.jsxs(ae,{label:"Risolvi l'equazione:",children:[e.jsx(g,{display:!0,children:E}),e.jsxs("div",{style:{marginTop:10,fontSize:12,color:"#64748b"},children:["Tipo: ",e.jsx("strong",{children:n.degree===1?"1¬∞ grado (dopo m.c.m.)":"2¬∞ grado (dopo m.c.m.)"})]})]}),e.jsx(le,{currentStep:s,totalSteps:4,onNext:d,onPrev:p,onShowAll:a}),e.jsxs(ge,{columns:{tablet:2,desktop:2},gap:12,children:[_,O,ie,te]}),e.jsx("div",{style:{marginTop:16},children:e.jsx(de,{title:"üí° Metodo di risoluzione",defaultOpen:!1,children:oe})})]})}function G(i){if(i==="intermedio"){if(Math.random()<.5){const M=h(-6,6);let L=h(-6,6);for(;L===M;)L=h(-6,6);const w={a:1,b:M},F={a:1,b:M+L,c:M*L},N=v(-6,6),P=v(-10,10),X=N,_=N*L-P,O=T([w,F]);return{degree:1,den1:w,den2:F,num1:{k:N},num2:{k:P},A:0,B:X,C:_,excluded:O}}const c=h(-6,6),z={a:1,b:c};let m=h(-6,6),x=h(-6,6);for(;x===m;)x=h(-6,6);const R={a:1,b:m+x,c:m*x},C=v(-6,6),E=v(-6,6),f=h(-8,8),y=C-E,A=C*(m+x)-(E*c+f),k=C*(m*x)-f*c,U=T([z,R]);return{degree:S(y)?1:2,den1:z,den2:R,num1:{k:C},num2:{a:E,b:f},A:y,B:A,C:k,excluded:U}}const o=Math.random()<.5?1:2,t=h(-6,6);let n=h(-6,6);for(;n===t;)n=h(-6,6);const r={a:1,b:t},s={a:1,b:n},d=T([r,s]);if(o===1){let c=v(-6,6),z=v(-6,6);for(;z===c;)z=v(-6,6);const m=c-z,x=c*n-z*t;return S(m)?G(i):{degree:1,den1:r,den2:s,num1:{k:c},num2:{k:z},A:0,B:m,C:x,excluded:d}}let p=v(-4,4),a=v(-4,4);for(;a===p;)a=v(-4,4);const l=h(-6,6),b=h(-6,6),q=p-a,D=p*n+l-(a*t+b),$=l*n-b*t;return S(q)?G(i):{degree:2,den1:r,den2:s,num1:{a:p,b:l},num2:{a,b},A:q,B:D,C:$,excluded:d}}function ze(i){const{A:o,B:t,C:n,excluded:r}=i;let s=[],d="";if(i.degree===1)s=[-n/t],d=`\\begin{aligned}
${K(t,n)} &= 0 \\\\
${be(t)} &= ${-n} \\\\
x &= ${ue(-n,t)}
\\end{aligned}`;else{const a=t*t-4*o*n;if(a<0)s=[],d=`\\begin{aligned}
${I(o,t,n)} &= 0 \\\\
\\Delta &= ${t}^2 - 4\\cdot(${o})\\cdot(${n}) = ${a} \\\\
&\\Rightarrow \\Delta < 0 \\Rightarrow \\text{nessuna soluzione reale}
\\end{aligned}`;else if(S(a)){const l=-t/(2*o);s=[l],d=`\\begin{aligned}
${I(o,t,n)} &= 0 \\\\
\\Delta &= ${a} \\\\
&\\Rightarrow x_1=x_2 = ${B(l)}
\\end{aligned}`}else{const l=Math.sqrt(a),b=(-t-l)/(2*o),q=(-t+l)/(2*o);s=[b,q].sort((D,$)=>D-$),d=`\\begin{aligned}
${I(o,t,n)} &= 0 \\\\
\\Delta &= ${a},\\; \\sqrt{\\Delta} = ${B(l)} \\\\
&\\Rightarrow x_1=${B(s[0])},\\; x_2=${B(s[1])}
\\end{aligned}`}}const p=s.filter(a=>!r.some(l=>Math.abs(a-l)<1e-9));return{candidates:s,admissible:p,detailsLatex:d}}export{ke as default};
