"use strict";(self.webpackChunkmatematica_fisica=self.webpackChunkmatematica_fisica||[]).push([[754],{754:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(555),i=n(43),s=n(579);const r={xmin:-10,xmax:10,ymin:-7,ymax:7},l=5;function o(e,t,n){return Math.max(t,Math.min(n,e))}function c(e){const t=function(e){return Math.hypot(e.x,e.y)}(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}}function x(e,t,n){const a=e.x-t.x,i=e.y-t.y,s=Math.hypot(a,i);if(s<=n||0===s)return e;const r=n/s;return{x:t.x+a*r,y:t.y+i*r}}const d=function(e,t,n){const a={x:e.x-t.x,y:e.y-t.y};let i=a.x*a.x+a.y*a.y;i=Math.max(i,.05*.05);const s=8987551792.3*n/i,r=c(a);return{Ex:s*r.x,Ey:s*r.y,Emag:s}};function u(e){let{x:t,y:n,vx:a,vy:i,toX:r,toY:l,color:o,lenWorld:x=.5}=e;const d=c({x:a,y:i}),u={x:t+d.x*x,y:n+d.y*x},y=r(t),m=l(n),h=r(u.x),p=l(u.y),f=Math.atan2(p-m,h-y),g=h-6*Math.cos(f),v=p-6*Math.sin(f),j={x:g+6*.6*Math.cos(f+Math.PI/2),y:v+6*.6*Math.sin(f+Math.PI/2)},b={x:g+6*.6*Math.cos(f-Math.PI/2),y:v+6*.6*Math.sin(f-Math.PI/2)};return(0,s.jsxs)("g",{children:[(0,s.jsx)("line",{x1:y,y1:m,x2:h,y2:p,stroke:o,strokeWidth:2}),(0,s.jsx)("polygon",{points:"".concat(h,",").concat(p," ").concat(j.x,",").concat(j.y," ").concat(b.x,",").concat(b.y),fill:o})]})}function y(){const e=900,t=560,n=(0,i.useRef)(null),{toX:c,toY:y,fromX:m,fromY:h,offsetX:p,offsetY:f}=(0,i.useMemo)(()=>function(e,t){const{xmin:n,xmax:a,ymin:i,ymax:s}=r,l=a-n,o=s-i,c=Math.min(e/l,t/o),x=(e-c*l)/2,d=(t-c*o)/2;return{toX:e=>x+(e-n)*c,toY:e=>t-(d+(e-i)*c),fromX:e=>n+(e-x)/c,fromY:e=>i+(t-e-d)/c,s:c,offsetX:x,offsetY:d}}(e,t),[e,t]),[g,v]=(0,i.useState)({x:-1.5,y:0}),[j,b]=(0,i.useState)(500),C=1e-6*j,[M,E]=(0,i.useState)({x:2,y:1}),[F,N]=(0,i.useState)(1),S=1e-9*F,[k,P]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!0),[Y,W]=(0,i.useState)(28),[X,I]=(0,i.useState)(.8),[B,z]=(0,i.useState)(null),[q,L]=(0,i.useState)(null);function R(n,a,i){const s=i.getBoundingClientRect();return{x:(n-s.left)*(e/s.width),y:(a-s.top)*(t/s.height)}}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:22;const a=c(t.x),i=y(t.y),s=a-e.x,r=i-e.y;return Math.hypot(s,r)<=n}const D=(0,i.useMemo)(()=>d(M,g,C),[M,g,C]),_=(0,i.useMemo)(()=>({Fx:S*D.Ex,Fy:S*D.Ey}),[D,S]),U=Math.hypot(_.Fx,_.Fy),G=(0,i.useMemo)(()=>{const e=[],t=Y,n=Math.round(Y*((r.ymax-r.ymin)/(r.xmax-r.xmin)));for(let a=0;a<t;a++){const i=r.xmin+(a+.5)*(r.xmax-r.xmin)/t;for(let t=0;t<n;t++){const a=r.ymin+(t+.5)*(r.ymax-r.ymin)/n;(i-g.x)**2+(a-g.y)**2<.0036||e.push({x:i,y:a})}}return e},[Y,g]);function H(e){return X*(1-Math.exp(-e/2e5))}(0,i.useEffect)(()=>{},[c,y,m,h,g,C]);const J={background:"#fff",borderRadius:16,padding:12,boxShadow:"0 1px 4px rgba(0,0,0,0.1)"},K=B?"grabbing":q?"grab":"crosshair",O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e2e8f0";return(0,s.jsx)("span",{style:{background:t,borderRadius:999,fontSize:12,padding:"2px 8px"},children:e})};return(0,s.jsxs)("div",{className:"container page--fisica",children:[(0,s.jsx)("h1",{children:"Campo elettrico (carica puntiforme)"}),(0,s.jsxs)("p",{className:"muted",children:["Trascina la ",(0,s.jsx)("b",{children:"carica sorgente"})," e la ",(0,s.jsx)("b",{children:"carica di prova"}),". Distanza bloccata a \u2264 5 m. ",O("E in N/C")," ",O("F in N")," "]}),(0,s.jsxs)("div",{className:"grid-2",children:[(0,s.jsxs)("div",{className:"card",style:J,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Piano (x,y) in metri"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,s.jsxs)("button",{className:"btn",onClick:()=>A(e=>!e),children:[w?"Nascondi":"Mostra"," vettori"]}),(0,s.jsx)("button",{className:"btn",onClick:()=>P(e=>!e),children:k?"Nascondi carica di prova":"Mostra carica di prova"})]})]}),(0,s.jsxs)("svg",{ref:n,viewBox:"0 0 ".concat(e," ").concat(t),preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"min(70vh, 560px)",cursor:K,touchAction:"none"},onPointerDown:function(e){const t=e.currentTarget,a=R(e.clientX,e.clientY,t);let i=null;var s,r;T(a,g)?i="source":k&&T(a,M)&&(i="test"),i&&(z(i),null===(s=n.current)||void 0===s||null===(r=s.setPointerCapture)||void 0===r||r.call(s,e.pointerId))},onPointerMove:function(n){const a=n.currentTarget,i=R(n.clientX,n.clientY,a);if(!B){const e=T(i,g,14)?"source":k&&T(i,M,14)?"test":null;return void L(e)}let s=function(n,a,i){const s=i.getBoundingClientRect(),r=(n-s.left)*(e/s.width),l=(a-s.top)*(t/s.height);return{x:m(r),y:h(l)}}(n.clientX,n.clientY,a);s.x=o(s.x,r.xmin,r.xmax),s.y=o(s.y,r.ymin,r.ymax),"source"===B?(s=x(s,M,l),v(s)):"test"===B&&(s=x(s,g,l),E(s))},onPointerUp:function(e){try{var t,a;null===(t=n.current)||void 0===t||null===(a=t.releasePointerCapture)||void 0===a||a.call(t,e.pointerId)}catch(i){}z(null)},onPointerLeave:function(){z(null)},children:[(0,s.jsx)("rect",{x:0,y:0,width:e,height:t,fill:"#fff",rx:16}),Array.from({length:11},(e,t)=>r.xmin+t*(r.xmax-r.xmin)/10).map(e=>(0,s.jsx)("line",{x1:c(e),y1:f,x2:c(e),y2:t-f,stroke:"#eef2f7"},"vx-".concat(e))),Array.from({length:8},(e,t)=>r.ymin+t*(r.ymax-r.ymin)/7).map(t=>(0,s.jsx)("line",{x1:p,y1:y(t),x2:e-p,y2:y(t),stroke:"#eef2f7"},"vy-".concat(t))),(0,s.jsx)("line",{x1:c(r.xmin),y1:y(0),x2:c(r.xmax),y2:y(0),stroke:"#0f172a"}),(0,s.jsx)("line",{x1:c(0),y1:y(r.ymin),x2:c(0),y2:y(r.ymax),stroke:"#0f172a"}),w&&G.map((e,t)=>{const n=d(e,g,C),a=H(n.Emag),i=C>=0?"#2563eb":"#1d4ed8";return(0,s.jsx)(u,{x:e.x,y:e.y,vx:n.Ex,vy:n.Ey,lenWorld:a,toX:c,toY:y,color:i},t)}),(()=>{const e=c(g.x),t=y(g.y),a=C>=0,i=a?"#ef4444":"#3b82f6",r=a?"+":"\u2212";return(0,s.jsxs)("g",{onPointerDown:e=>{var t,a;e.stopPropagation(),z("source"),null===(t=n.current)||void 0===t||null===(a=t.setPointerCapture)||void 0===a||a.call(t,e.pointerId)},style:{cursor:"source"===B?"grabbing":"grab"},children:[(0,s.jsx)("circle",{cx:e,cy:t,r:14,fill:i,stroke:"#0f172a",strokeWidth:1}),(0,s.jsx)("text",{x:e,y:t+4,fontSize:18,textAnchor:"middle",fill:"#fff",fontWeight:700,children:r}),(0,s.jsxs)("text",{x:e+18,y:t-18,fontSize:12,fill:"#0f172a",children:["q = ",j.toFixed(2)," \u03bcC"]})]})})(),(()=>{if(!k)return null;const e=c(M.x),t=y(M.y),a=H(D.Emag),i=_,r={x:i.Fx,y:i.Fy};return(0,s.jsxs)("g",{onPointerDown:e=>{var t,a;e.stopPropagation(),z("test"),null===(t=n.current)||void 0===t||null===(a=t.setPointerCapture)||void 0===a||a.call(t,e.pointerId)},style:{cursor:"test"===B?"grabbing":"grab"},children:[(0,s.jsx)(u,{x:M.x,y:M.y,vx:r.x,vy:r.y,lenWorld:.9*a,toX:c,toY:y,color:"#10b981"}),(0,s.jsx)("circle",{cx:e,cy:t,r:10,fill:"#f59e0b",stroke:"#0f172a"}),(0,s.jsxs)("text",{x:e+14,y:t-12,fontSize:12,fill:"#0f172a",children:["q_t = ",F.toFixed(2)," nC"]})]})})()]}),(0,s.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"center",marginTop:8,flexWrap:"wrap"},children:[(0,s.jsxs)("label",{children:[" Densit\xe0 griglia",(0,s.jsx)("input",{type:"range",min:8,max:28,step:1,value:Y,onChange:e=>W(parseInt(e.target.value)),style:{marginLeft:8}}),(0,s.jsx)("span",{className:"badge",style:{marginLeft:6},children:Y})]}),(0,s.jsxs)("label",{children:[" Scala vettori",(0,s.jsx)("input",{type:"range",min:.2,max:1.2,step:.05,value:X,onChange:e=>I(parseFloat(e.target.value)),style:{marginLeft:8}}),(0,s.jsxs)("span",{className:"badge",style:{marginLeft:6},children:[X.toFixed(2)," m"]})]})]})]}),(0,s.jsxs)("div",{className:"card",style:J,children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"Controlli"}),(0,s.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:4},children:"Carica sorgente"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[(0,s.jsxs)("label",{children:["x (m)",(0,s.jsx)("input",{type:"number",value:g.x,step:.1,onChange:e=>{const t=o(parseFloat(e.target.value),r.xmin,r.xmax);let n=(0,a.A)((0,a.A)({},g),{},{x:t});n=x(n,M,l),v(n)}})]}),(0,s.jsxs)("label",{children:["y (m)",(0,s.jsx)("input",{type:"number",value:g.y,step:.1,onChange:e=>{const t=o(parseFloat(e.target.value),r.ymin,r.ymax);let n=(0,a.A)((0,a.A)({},g),{},{y:t});n=x(n,M,l),v(n)}})]}),(0,s.jsxs)("label",{children:["q (\u03bcC)",(0,s.jsx)("input",{type:"number",value:j,step:.1,onChange:e=>b(parseFloat(e.target.value))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:4},children:"Carica di prova"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[(0,s.jsxs)("label",{children:["x (m)",(0,s.jsx)("input",{type:"number",value:M.x,step:.1,onChange:e=>{const t=o(parseFloat(e.target.value),r.xmin,r.xmax);let n=(0,a.A)((0,a.A)({},M),{},{x:t});n=x(n,g,l),E(n)}})]}),(0,s.jsxs)("label",{children:["y (m)",(0,s.jsx)("input",{type:"number",value:M.y,step:.1,onChange:e=>{const t=o(parseFloat(e.target.value),r.ymin,r.ymax);let n=(0,a.A)((0,a.A)({},M),{},{y:t});n=x(n,g,l),E(n)}})]}),(0,s.jsxs)("label",{children:["q_t (nC)",(0,s.jsx)("input",{type:"number",value:F,step:.1,onChange:e=>N(parseFloat(e.target.value))})]})]})]}),(0,s.jsxs)("div",{className:"card",style:{padding:8},children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Misure al punto di prova"}),(0,s.jsxs)("div",{children:["E = (Ex, Ey) = (",(0,s.jsx)("b",{children:D.Ex.toExponential(3)}),", ",(0,s.jsx)("b",{children:D.Ey.toExponential(3)}),") N/C"]}),(0,s.jsxs)("div",{children:["|E| = ",(0,s.jsx)("b",{children:D.Emag.toExponential(3)})," N/C"]}),(0,s.jsxs)("div",{children:["F = q_t\xb7E = (",(0,s.jsx)("b",{children:_.Fx.toExponential(3)}),", ",(0,s.jsx)("b",{children:_.Fy.toExponential(3)}),") N"]}),(0,s.jsxs)("div",{children:["|F| = ",(0,s.jsx)("b",{children:U.toExponential(3)})," N"]})]}),(0,s.jsxs)("div",{className:"muted",style:{fontSize:12},children:['Suggerimenti: il cursore passa a "grab" solo quando sei ',(0,s.jsx)("i",{children:"davvero"}),' sopra una carica; durante il drag diventa "grabbing". La distanza tra cariche \xe8 limitata a 5 m.']})]})]})]})]})}}}]);
//# sourceMappingURL=754.d2033c0f.chunk.js.map