import{r as w,j as l}from"./index-B_gVeGiv.js";import{u as q,Q as D,a as E,b as k,c as _,d as N,e as V}from"./useQuiz-9SUH5cgQ.js";import{s as g,r,b as h}from"./random-DShgH4QN.js";import"./Responsive-CZkJ6WC4.js";import"./Latex-BO5rSga0.js";import"./katex-p018AHG0.js";let R=0;function f(a="vec"){return`${a}_${Date.now()}_${++R}`}function P(){const a=r(-5,5),t=r(-5,5),e=r(-5,5),o=r(-5,5),n=a+e,c=t+o,i=`(${n}, ${c})`,$=[`(${a-e}, ${t-o})`,`(${a*e}, ${t*o})`,`(${n+1}, ${c-1})`].filter(s=>s!==i),p=g([i,...$.slice(0,3)]).map((s,v)=>({id:["a","b","c","d"][v],text:s,isLatex:!1})),d=p.find(s=>s.text===i).id;return{id:f("vecsum"),type:"multiple_choice",prompt:`Dati $\\vec{A} = (${a}, ${t})$ e $\\vec{B} = (${e}, ${o})$, calcola $\\vec{A} + \\vec{B}$`,promptLatex:!0,options:p,correctOptionId:d,explanation:{correct:`Esatto! $\\vec{A} + \\vec{B} = (${a} + ${e>=0?e:`(${e})`}, ${t} + ${o>=0?o:`(${o})`}) = (${n}, ${c})$`,wrong:`La somma si calcola componente per componente: $\\vec{A} + \\vec{B} = (${a} + ${e>=0?e:`(${e})`}, ${t} + ${o>=0?o:`(${o})`}) = (${n}, ${c})$`},difficulty:"facile"}}function X(){const a=r(-5,5),t=r(-5,5),e=r(-5,5),o=r(-5,5),n=a-e,c=t-o,i=`(${n}, ${c})`,$=[`(${a+e}, ${t+o})`,`(${e-a}, ${o-t})`,`(${n-1}, ${c+1})`].filter(s=>s!==i),p=g([i,...$.slice(0,3)]).map((s,v)=>({id:["a","b","c","d"][v],text:s,isLatex:!1})),d=p.find(s=>s.text===i).id;return{id:f("vecdiff"),type:"multiple_choice",prompt:`Dati $\\vec{A} = (${a}, ${t})$ e $\\vec{B} = (${e}, ${o})$, calcola $\\vec{A} - \\vec{B}$`,promptLatex:!0,options:p,correctOptionId:d,explanation:{correct:`Esatto! $\\vec{A} - \\vec{B} = (${a} - ${e>=0?e:`(${e})`}, ${t} - ${o>=0?o:`(${o})`}) = (${n}, ${c})$`,wrong:`La differenza si calcola: $\\vec{A} - \\vec{B} = (${a} - ${e>=0?e:`(${e})`}, ${t} - ${o>=0?o:`(${o})`}) = (${n}, ${c})$`},difficulty:"facile"}}function F(){const a=r(-4,4),t=r(-4,4),e=h([2,3,-2,-1]),o=e*a,n=e*t,c=`(${o}, ${n})`,i=[`(${a+e}, ${t+e})`,`(${-o}, ${-n})`,`(${o+1}, ${n})`].filter(s=>s!==c),m=g([c,...i.slice(0,3)]).map((s,v)=>({id:["a","b","c","d"][v],text:s,isLatex:!1})),p=m.find(s=>s.text===c).id,d=e>=0?`${e}`:`(${e})`;return{id:f("vecscalar"),type:"multiple_choice",prompt:`Dato $\\vec{v} = (${a}, ${t})$, calcola $${d} \\cdot \\vec{v}$`,promptLatex:!0,options:m,correctOptionId:p,explanation:{correct:`Esatto! $${d} \\cdot \\vec{v} = (${d} \\cdot ${a>=0?a:`(${a})`}, ${d} \\cdot ${t>=0?t:`(${t})`}) = (${o}, ${n})$`,wrong:`Si moltiplica ogni componente per lo scalare: $${d} \\cdot \\vec{v} = (${o}, ${n})$`},difficulty:"facile"}}function Y(){const t=h([{x:3,y:4,mag:5},{x:5,y:12,mag:13},{x:6,y:8,mag:10},{x:8,y:15,mag:17},{x:4,y:3,mag:5},{x:12,y:5,mag:13}]),e=h([1,-1]),o=h([1,-1]),n=t.x*e,c=t.y*o;return{id:f("vecmag"),type:"numeric",prompt:`Calcola il modulo del vettore $\\vec{F} = (${n}, ${c})$`,promptLatex:!0,validation:{exactValue:t.mag,tolerance:.1},placeholder:"Inserisci il modulo...",explanation:{correct:`Esatto! $|\\vec{F}| = \\sqrt{${n}^2 + ${c}^2} = \\sqrt{${n*n} + ${c*c}} = \\sqrt{${t.mag*t.mag}} = ${t.mag}$`,wrong:`Il modulo si calcola con $|\\vec{F}| = \\sqrt{x^2 + y^2} = \\sqrt{${n*n} + ${c*c}} = ${t.mag}$`},difficulty:"medio"}}function G(){const a=r(-3,3),t=r(-3,3),e=r(-3,3),o=r(-3,3),n=2*a-e,c=2*t-o,i=`(${n}, ${c})`,$=[`(${2*a+e}, ${2*t+o})`,`(${a-2*e}, ${t-2*o})`,`(${2*(a-e)}, ${2*(t-o)})`].filter(s=>s!==i),p=g([i,...$.slice(0,3)]).map((s,v)=>({id:["a","b","c","d"][v],text:s,isLatex:!1})),d=p.find(s=>s.text===i).id;return{id:f("veclincomb"),type:"multiple_choice",prompt:`Dati $\\vec{A} = (${a}, ${t})$ e $\\vec{B} = (${e}, ${o})$, calcola $2\\vec{A} - \\vec{B}$`,promptLatex:!0,options:p,correctOptionId:d,explanation:{correct:`Esatto! $2\\vec{A} - \\vec{B} = 2(${a}, ${t}) - (${e}, ${o}) = (${2*a}, ${2*t}) - (${e}, ${o}) = (${n}, ${c})$`,wrong:`Prima calcola $2\\vec{A} = (${2*a}, ${2*t})$, poi sottrai $\\vec{B}$: $(${2*a} - ${e>=0?e:`(${e})`}, ${2*t} - ${o>=0?o:`(${o})`}) = (${n}, ${c})$`},difficulty:"medio"}}function M(){const a=r(-5,5),t=r(-5,5),e=`(${-a}, ${-t})`,o=[`(${a}, ${t})`,`(${-a}, ${t})`,`(${a}, ${-t})`].filter($=>$!==e),c=g([e,...o.slice(0,3)]).map(($,m)=>({id:["a","b","c","d"][m],text:$,isLatex:!1})),i=c.find($=>$.text===e).id;return{id:f("vecopp"),type:"multiple_choice",prompt:`Dato $\\vec{v} = (${a}, ${t})$, qual Ã¨ il vettore opposto $-\\vec{v}$?`,promptLatex:!0,options:c,correctOptionId:i,explanation:{correct:`Esatto! Il vettore opposto ha componenti cambiate di segno: $-\\vec{v} = (${-a}, ${-t})$`,wrong:`Il vettore opposto si ottiene cambiando il segno di entrambe le componenti: $-\\vec{v} = (-${a>=0?a:`(${a})`}, -${t>=0?t:`(${t})`}) = (${-a}, ${-t})$`},difficulty:"facile"}}function T(){const t=h([{prompt:"Nel metodo punta-coda per calcolare $\\vec{A} + \\vec{B}$, dove si posiziona la coda di $\\vec{B}$?",correct:"Sulla punta di A",distractors:["Sulla coda di A","Nell'origine","In un punto qualsiasi"],explanation:{correct:"Esatto! Nel metodo punta-coda, la coda del secondo vettore si posiziona sulla punta del primo.",wrong:"Nel metodo punta-coda, la coda di B si posiziona sulla punta di A. Il vettore somma va dalla coda di A alla punta di B."}},{prompt:"Nel metodo punta-coda, il vettore risultante $\\vec{A} + \\vec{B}$ va:",correct:"Dalla coda di A alla punta di B",distractors:["Dalla punta di A alla coda di B","Dalla coda di B alla punta di A","Dalla punta di A alla punta di B"],explanation:{correct:"Esatto! Il vettore somma collega la coda del primo vettore alla punta dell'ultimo.",wrong:"Il vettore somma va dalla coda di A (primo vettore) alla punta di B (secondo vettore)."}},{prompt:"Per calcolare graficamente $\\vec{A} - \\vec{B}$ con il metodo punta-coda, devo:",correct:"Calcolare A + (-B)",distractors:["Invertire A e sommare B","Sommare i moduli","Disegnare B sulla punta di A"],explanation:{correct:"Esatto! La differenza $\\vec{A} - \\vec{B}$ equivale a $\\vec{A} + (-\\vec{B})$, cioÃ¨ sommare A al vettore opposto di B.",wrong:"Per la differenza, si calcola $\\vec{A} + (-\\vec{B})$: si inverte B e si applica il metodo punta-coda."}}]),o=g([t.correct,...t.distractors]).map((c,i)=>({id:["a","b","c","d"][i],text:c,isLatex:!1})),n=o.find(c=>c.text===t.correct).id;return{id:f("vectheory"),type:"multiple_choice",prompt:t.prompt,promptLatex:!0,options:o,correctOptionId:n,explanation:t.explanation,difficulty:"facile"}}function W(){const a=r(-5,5),t=r(-5,5),e=r(-5,5),o=r(-5,5),n=Math.random()>.5,c=n?a+e:t+o,i=n?"x":"y";return{id:f("veccomp"),type:"numeric",prompt:`Dati $\\vec{A} = (${a}, ${t})$ e $\\vec{B} = (${e}, ${o})$, qual Ã¨ la componente $${i}$ di $\\vec{A} + \\vec{B}$?`,promptLatex:!0,validation:{exactValue:c,tolerance:0},placeholder:`Componente ${i}...`,explanation:{correct:`Esatto! La componente $${i}$ di $\\vec{A} + \\vec{B}$ Ã¨ $${n?a:t} + ${n?e>=0?e:`(${e})`:o>=0?o:`(${o})`} = ${c}$`,wrong:`La componente $${i}$ si calcola sommando le componenti $${i}$: $${n?a:t} + ${n?e>=0?e:`(${e})`:o>=0?o:`(${o})`} = ${c}$`},difficulty:"facile"}}const H=8,U=[P,X,F,Y,G,M,T,W];function A(){const t=g([...U]).slice(0,H).map(e=>e());return{id:`vettori-random-${Date.now()}`,title:"Quiz Vettori",description:"Somma, differenza, scalare e componenti cartesiane",questions:t,shuffleQuestions:!0,shuffleOptions:!1,passingScore:60}}function at(){const[a,t]=w.useState(A),[e,o]=w.useState(!0),{state:n,questions:c,currentQuestion:i,score:$,start:m,answer:p,next:d,prev:s,submit:v,reset:y,isFirst:z,isLast:Q,answeredCount:L,canSubmit:S,currentFeedback:u,showFeedback:C}=q({quiz:a,showImmediateFeedback:e}),O=w.useCallback(()=>{t(A()),y()},[y]),j=w.useCallback(()=>{t(A()),y()},[y]);return l.jsxs(D,{title:"Quiz: Vettori",description:"Operazioni con vettori: somma, differenza, scalare, modulo e componenti",children:[n.status==="not_started"&&l.jsxs(l.Fragment,{children:[l.jsx(E,{title:a.title,description:a.description,questionCount:c.length,onStart:m}),l.jsx("div",{style:{marginTop:20,padding:16,background:"#f8fafc",borderRadius:12},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"#334155"},children:[l.jsx("input",{type:"checkbox",checked:e,onChange:x=>o(x.target.checked),style:{width:18,height:18}}),"Mostra feedback immediato dopo ogni risposta"]})}),l.jsx("button",{onClick:j,style:{marginTop:16,width:"100%",padding:"12px 20px",borderRadius:10,border:"1px solid #d1d5db",background:"#fff",color:"#334155",fontSize:14,fontWeight:500,cursor:"pointer"},children:"ðŸŽ² Genera nuove domande"})]}),n.status==="in_progress"&&i&&l.jsxs(l.Fragment,{children:[l.jsx(k,{current:n.currentIndex,total:c.length,answeredCount:L}),l.jsx(_,{question:i,currentAnswer:n.answers[i.id]??null,onAnswer:x=>p(i.id,x),showFeedback:(u==null?void 0:u.shown)??!1,isCorrect:u==null?void 0:u.isCorrect,disabled:u==null?void 0:u.shown}),l.jsx(N,{onPrev:s,onNext:d,onSubmit:v,onShowFeedback:e?C:void 0,isFirst:z,isLast:Q,canSubmit:S,showFeedbackButton:e&&n.answers[i.id]!==null&&n.answers[i.id]!==void 0,feedbackShown:(u==null?void 0:u.shown)??!1}),l.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginTop:24,flexWrap:"wrap"},children:c.map((x,B)=>{const I=n.answers[x.id]!==null&&n.answers[x.id]!==void 0,b=B===n.currentIndex;return l.jsx("div",{style:{width:28,height:28,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:600,background:b?"#3b82f6":I?"#22c55e":"#e2e8f0",color:b||I?"#fff":"#64748b",border:b?"2px solid #1d4ed8":"none"},children:B+1},x.id)})})]}),n.status==="completed"&&$&&l.jsx(V,{score:$,questions:c,answers:n.answers,onRetry:O,onBack:()=>window.location.href="#/"})]})}export{at as default};
