import{r as o,j as e}from"./index-B_gVeGiv.js";import{s as J,a as K,g as Z,d as P,C as N,S as C,e as G,G as ee,A as ie,F as te,f as L,h as ne,N as se,i as oe,R as le,k as re,b as V}from"./components-D2LD_pbq.js";const z=[{id:"x",name:"f(x) = x",expr:"x",f:t=>t,limitPlus:"+∞",limitMinus:"-∞",note:"Funzione lineare: cresce/decresce linearmente"},{id:"x2",name:"f(x) = x²",expr:"x²",f:t=>t*t,limitPlus:"+∞",limitMinus:"+∞",note:"Parabola: tende a +∞ da entrambi i lati"},{id:"x3",name:"f(x) = x³",expr:"x³",f:t=>t*t*t,limitPlus:"+∞",limitMinus:"-∞",note:"Cubica: comportamento opposto agli estremi"},{id:"negx2",name:"f(x) = -x²",expr:"-x²",f:t=>-(t*t),limitPlus:"-∞",limitMinus:"-∞",note:"Parabola rivolta verso il basso"},{id:"exp",name:"f(x) = eˣ",expr:"eˣ",f:t=>Math.exp(V(t,-10,10)),limitPlus:"+∞",limitMinus:"0",note:"Esponenziale: diverge a +∞, tende a 0 per x → -∞"},{id:"negexp",name:"f(x) = -eˣ",expr:"-eˣ",f:t=>-Math.exp(V(t,-10,10)),limitPlus:"-∞",limitMinus:"0",note:"Esponenziale negativo"},{id:"poly",name:"f(x) = x⁴ - 5x²",expr:"x⁴ - 5x²",f:t=>t**4-5*t*t,limitPlus:"+∞",limitMinus:"+∞",note:"Polinomio di grado pari: stesso comportamento"}];function ae(){const[t,d]=o.useState(()=>typeof window<"u"?window.innerWidth:1200);return o.useEffect(()=>{const j=()=>d(window.innerWidth);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),t}function xe(){const t=ae(),d=t<640,j=t>=640&&t<1024,D=t>=1024,[n,q]=o.useState(z[0]),[W,H]=o.useState(!0),[y,v]=o.useState(!1),[X,T]=o.useState(null),[x,I]=o.useState(null),[u,B]=o.useState(!1),[M,$]=o.useState("plus"),r=-10,a=10,f=o.useMemo(()=>J(n.f,r,a,400).filter(s=>Math.abs(s.y)<500),[n,r,a]),S=o.useMemo(()=>{const i=f.map(s=>s.y);return Math.max(-50,Math.min(...i)-5)},[f]),w=o.useMemo(()=>{const i=f.map(s=>s.y);return Math.min(50,Math.max(...i)+5)},[f]),{toX:m,toY:p}=o.useMemo(()=>K(r,a,S,w),[r,a,S,w]),k=o.useMemo(()=>{const i=[];for(const s of[2,4,6,8,9.5]){const l=n.f(s);Number.isFinite(l)&&Math.abs(l)<200&&i.push({x:s,fx:l})}return i},[n]),R=o.useMemo(()=>{const i=[];for(const s of[-2,-4,-6,-8,-9.5]){const l=n.f(s);Number.isFinite(l)&&Math.abs(l)<200&&i.push({x:s,fx:l})}return i},[n]),Y=o.useMemo(()=>Z(f,m,p),[f,m,p]),b=o.useRef(null);o.useEffect(()=>{if(!y){T(null);return}let i=null;const s=3e3,l=E=>{i||(i=E);const F=Math.min(1,(E-i)/s);if(T(M==="plus"?F*a*.95:-F*Math.abs(r)*.95),F>=1){v(!1);return}b.current=requestAnimationFrame(l)};return b.current=requestAnimationFrame(l),()=>{b.current&&cancelAnimationFrame(b.current)}},[y,M,r,a]);const h=u&&x!==null?x:X,c=h!==null?n.f(h):null,_=i=>{const s=z.find(l=>l.id===i);s&&(q(s),v(!1),B(!1))},g=i=>i==="+∞"?"#10b981":i==="-∞"?"#ef4444":"#f59e0b",O={display:"flex",gap:8,flexWrap:"wrap",alignItems:"center",...d?{width:"100%",flexDirection:"column",alignItems:"stretch"}:{}},A=d?{width:"100%",justifyContent:"center"}:void 0,Q={display:"grid",gap:12,marginTop:12,...D?{gridTemplateColumns:"220px 1fr 1fr"}:j?{gridTemplateColumns:"1fr 1fr"}:{gridTemplateColumns:"1fr"}},U=j?{gridColumn:"1 / -1"}:{};return e.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:16},children:[e.jsx("h1",{style:{fontSize:22,fontWeight:700,marginBottom:6},children:"Limite infinito per x → ±∞"}),e.jsxs("p",{style:{color:"#475569",marginBottom:12},children:["Funzioni che ",e.jsx("strong",{children:"divergono"})," quando x tende a ±∞. Non ci sono asintoti."]}),e.jsxs("div",{style:P,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,flexWrap:"wrap",gap:8},children:[e.jsxs("div",{style:{fontWeight:600,fontSize:16},children:["Grafico di ",n.name]}),e.jsxs("div",{style:O,children:[e.jsxs("select",{value:M,onChange:i=>$(i.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #cbd5e1",...d?{width:"100%"}:{}},children:[e.jsx("option",{value:"plus",children:"Verso +∞"}),e.jsx("option",{value:"minus",children:"Verso -∞"})]}),e.jsx(N,{onClick:()=>v(!0),disabled:y,style:A,children:y?"...":"▶ Anima"}),e.jsx(N,{onClick:()=>{B(!u),u||I(5),u||v(!1)},active:u,style:A,children:"Manuale"}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,...d?{width:"100%"}:{}},children:[e.jsx("input",{type:"checkbox",checked:W,onChange:i=>H(i.target.checked)})," Punti"]})]})]}),e.jsxs("svg",{viewBox:`0 0 ${C} ${G}`,style:{width:"100%",height:"auto",maxHeight:d?"55vh":"60vh"},children:[e.jsx(ee,{id:"gridInfInf"}),e.jsx("rect",{x:0,y:0,width:C,height:G,fill:"url(#gridInfInf)"}),e.jsx(ie,{xMin:r,xMax:a,yMin:S,yMax:w,toX:m,toY:p}),e.jsx(te,{pathD:Y}),W&&e.jsxs(e.Fragment,{children:[e.jsx(L,{points:k,toX:m,toY:p,color:"#10b981",side:"right"}),e.jsx(L,{points:R,toX:m,toY:p,color:"#f59e0b",side:"left"})]}),h!==null&&c!==null&&Number.isFinite(c)&&Math.abs(c)<100&&e.jsx(ne,{x:h,y:c,toX:m,toY:p}),e.jsxs("text",{x:C-50,y:30,fontSize:16,fill:g(n.limitPlus),fontWeight:700,children:["→ ",n.limitPlus]}),e.jsxs("text",{x:30,y:30,fontSize:16,fill:g(n.limitMinus),fontWeight:700,children:["← ",n.limitMinus]})]}),n.note&&e.jsx(se,{note:n.note}),u&&e.jsx("div",{style:{marginTop:12,padding:12,background:"#f0f9ff",borderRadius:8},children:e.jsxs("label",{style:{fontSize:13},children:["x = ",(x==null?void 0:x.toFixed(1))??0,e.jsx("input",{type:"range",min:r,max:a,step:.2,value:x??0,onChange:i=>I(parseFloat(i.target.value)),style:{width:"100%",marginTop:4}})]})})]}),e.jsxs("div",{style:Q,children:[e.jsxs("div",{style:{...P,...U},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Funzione"}),e.jsx(oe,{functions:z,selected:n.id,onSelect:_})]}),e.jsxs(le,{title:"Limiti all'infinito",children:[e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsxs("div",{style:{padding:12,background:"#f0fdf4",borderRadius:8,border:`2px solid ${g(n.limitPlus)}`},children:[e.jsx("div",{style:{fontSize:12,color:"#166534"},children:"Per x → +∞"}),e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:g(n.limitPlus)},children:["lim = ",n.limitPlus]})]}),e.jsxs("div",{style:{padding:12,background:"#fffbeb",borderRadius:8,border:`2px solid ${g(n.limitMinus)}`},children:[e.jsx("div",{style:{fontSize:12,color:"#92400e"},children:"Per x → -∞"}),e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:g(n.limitMinus)},children:["lim = ",n.limitMinus]})]})]}),h!==null&&c!==null&&e.jsx("div",{style:{marginTop:12,padding:8,background:"#f0f4f8",borderRadius:8,fontSize:12},children:e.jsxs("div",{children:["x = ",h.toFixed(2),", f(x) = ",Number.isFinite(c)?c.toFixed(2):"grande"]})})]}),e.jsxs("div",{style:P,children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Valori per |x| grande"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,fontSize:11},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"#10b981",marginBottom:4},children:"x → +∞"}),k.map((i,s)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:i.x.toFixed(1)}),e.jsx("span",{children:i.fx.toFixed(2)})]},s))]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"#f59e0b",marginBottom:4},children:"x → -∞"}),R.map((i,s)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:i.x.toFixed(1)}),e.jsx("span",{children:i.fx.toFixed(2)})]},s))]})]})]})]}),e.jsxs(re,{children:["Quando f(x) ",e.jsx("strong",{children:"diverge"})," per x → ±∞, il limite è ±∞. Polinomi di grado pari hanno lo stesso limite, quelli di grado dispari hanno limiti opposti."]})]})}export{xe as default};
