import{r as n,j as e}from"./index-B_gVeGiv.js";import"./katex-p018AHG0.js";import{D as z}from"./StepByStep-BYyVPvbC.js";function O(){const[u,R]=n.useState(()=>typeof window<"u"?window.innerWidth:1200);n.useEffect(()=>{const s=()=>R(window.innerWidth);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const T=u<720,i=u>=720&&u<1100,C=u>=1100;return{w:u,isMobile:T,isTablet:i,isDesktop:C}}const M=[{id:"closed",notation:"[a, b]",name:"Chiuso",hasA:!0,hasB:!0,includesA:!0,includesB:!0,bounded:"both"},{id:"open",notation:"(a, b)",name:"Aperto",hasA:!0,hasB:!0,includesA:!1,includesB:!1,bounded:"both"},{id:"leftOpen",notation:"(a, b]",name:"Aperto a sinistra",hasA:!0,hasB:!0,includesA:!1,includesB:!0,bounded:"both"},{id:"rightOpen",notation:"[a, b)",name:"Aperto a destra",hasA:!0,hasB:!0,includesA:!0,includesB:!1,bounded:"both"},{id:"rayRightClosed",notation:"[a, +âˆž)",name:"Semiretta destra chiusa",hasA:!0,hasB:!1,includesA:!0,includesB:!1,bounded:"left"},{id:"rayRightOpen",notation:"(a, +âˆž)",name:"Semiretta destra aperta",hasA:!0,hasB:!1,includesA:!1,includesB:!1,bounded:"left"},{id:"rayLeftClosed",notation:"(-âˆž, b]",name:"Semiretta sinistra chiusa",hasA:!1,hasB:!0,includesA:!1,includesB:!0,bounded:"right"},{id:"rayLeftOpen",notation:"(-âˆž, b)",name:"Semiretta sinistra aperta",hasA:!1,hasB:!0,includesA:!1,includesB:!1,bounded:"right"},{id:"whole",notation:"(-âˆž, +âˆž)",name:"Retta reale â„",hasA:!1,hasB:!1,includesA:!1,includesB:!1,bounded:"none"}];function G(){const{isMobile:u,isTablet:R,isDesktop:T}=O(),[i,C]=n.useState(M[0]),[s,E]=n.useState(-3),[a,F]=n.useState(4),[L,I]=n.useState(.8),[p,N]=n.useState(!0),[V,W]=n.useState(0),k=n.useRef(0),x=n.useRef(1),h=n.useRef(null),X=n.useRef(null),[P,D]=n.useState(600);n.useEffect(()=>{const t=()=>{X.current&&D(X.current.offsetWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const l=n.useMemo(()=>{let t,r;if(i.bounded==="both"){const f=Math.max(2,(a-s)*.3);t=s-f,r=a+f}else i.bounded==="left"?(t=s-3,r=s+12):i.bounded==="right"?(t=a-12,r=a+3):(t=-8,r=8);const c=(P-60)/(r-t);return{minX:t,maxX:r,scale:c,toPx:f=>30+(f-t)*c}},[P,i,s,a]),o=n.useMemo(()=>{const t=i.bounded==="both"||i.bounded==="left",r=i.bounded==="both"||i.bounded==="right",c=t?s:"-âˆž",w=r?a:"+âˆž",f=t&&i.includesA,d=r&&i.includesB;return{lowerBounded:t,upperBounded:r,inf:c,sup:w,hasMin:f,hasMax:d}},[i,s,a]);n.useEffect(()=>{let t=0;i.hasA&&i.hasB?t=(s+a)/2:i.hasA?t=s+2:i.hasB&&(t=a-2),k.current=t,x.current=1,h.current=null,W(t)},[i,s,a]),n.useEffect(()=>{if(!p){h.current=null;return}let t=0;const r=c=>{h.current===null&&(h.current=c);const w=c-h.current;h.current=c;const f=L/l.scale;let d=k.current+x.current*f*w;const A=i.hasA?s:-1/0,S=i.hasB?a:1/0;Number.isFinite(A)&&d<=A?(d=A,x.current=1):Number.isFinite(S)&&d>=S?(d=S,x.current=-1):!Number.isFinite(S)&&d>l.maxX+2?d=l.minX-1:!Number.isFinite(A)&&d<l.minX-2&&(d=l.maxX+1),k.current=d,W(d),t=requestAnimationFrame(r)};return t=requestAnimationFrame(r),()=>cancelAnimationFrame(t)},[p,L,l,i,s,a]);const m={background:"#fff",borderRadius:12,padding:16,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},b=e.jsxs("div",{style:m,children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12},children:"Tipo di intervallo"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:u?"repeat(2, minmax(0, 1fr))":"repeat(auto-fill, minmax(140px, 1fr))",gap:8},children:M.map(t=>e.jsxs("button",{onClick:()=>C(t),style:{padding:"10px 12px",borderRadius:8,border:i.id===t.id?"2px solid #3b82f6":"1px solid #e5e7eb",background:i.id===t.id?"#dbeafe":"#fff",cursor:"pointer",textAlign:"left"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:16,fontFamily:"monospace"},children:t.notation}),e.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:t.name})]},t.id))})]}),g=e.jsxs("div",{ref:X,style:{...m,marginTop:16,position:"relative",height:u?160:140,overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",left:30,right:30,top:"50%",height:3,background:"#374151",borderRadius:2}}),!o.lowerBounded&&e.jsx("div",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",fontSize:20},children:"â†"}),!o.upperBounded&&e.jsx("div",{style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",fontSize:20},children:"â†’"}),(()=>{const t=i.hasA?l.toPx(s):30,r=i.hasB?l.toPx(a):P-30;return e.jsx("div",{style:{position:"absolute",left:t,width:Math.max(0,r-t),top:"calc(50% - 15px)",height:30,background:"rgba(59, 130, 246, 0.15)",borderRadius:4}})})(),i.hasA&&e.jsxs("div",{style:{position:"absolute",left:l.toPx(s),top:"50%",transform:"translate(-50%, -50%)"},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:"50%",border:"3px solid #3b82f6",background:i.includesA?"#3b82f6":"#fff"}}),e.jsxs("div",{style:{position:"absolute",top:24,left:"50%",transform:"translateX(-50%)",fontSize:13,fontWeight:600},children:["a=",s]}),o.hasMin&&e.jsx("div",{style:{position:"absolute",top:42,left:"50%",transform:"translateX(-50%)",fontSize:11,color:"#059669",whiteSpace:"nowrap"},children:"= min"})]}),i.hasB&&e.jsxs("div",{style:{position:"absolute",left:l.toPx(a),top:"50%",transform:"translate(-50%, -50%)"},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:"50%",border:"3px solid #f59e0b",background:i.includesB?"#f59e0b":"#fff"}}),e.jsxs("div",{style:{position:"absolute",top:24,left:"50%",transform:"translateX(-50%)",fontSize:13,fontWeight:600},children:["b=",a]}),o.hasMax&&e.jsx("div",{style:{position:"absolute",top:42,left:"50%",transform:"translateX(-50%)",fontSize:11,color:"#059669",whiteSpace:"nowrap"},children:"= max"})]}),e.jsx("div",{style:{position:"absolute",left:l.toPx(V),top:"50%",transform:"translate(-50%, -50%)",width:24,height:24,borderRadius:"50%",background:"#ef4444",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)",transition:p?"none":"left 0.1s"}}),e.jsxs("div",{style:{position:"absolute",bottom:8,left:30,right:30,display:"flex",justifyContent:"space-between",fontSize:10,color:"#9ca3af"},children:[e.jsx("span",{children:l.minX.toFixed(0)}),e.jsx("span",{children:"0"}),e.jsx("span",{children:l.maxX.toFixed(0)})]})]}),y=e.jsxs("div",{style:m,children:[e.jsx("div",{style:{fontWeight:700,marginBottom:12},children:"Estremi"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"a ="}),e.jsx("input",{type:"number",value:s,step:.5,onChange:t=>E(Math.min(+t.target.value,a-1)),disabled:!i.hasA,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",marginTop:4,background:i.hasA?"#fff":"#f8fafc"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"b ="}),e.jsx("input",{type:"number",value:a,step:.5,onChange:t=>F(Math.max(+t.target.value,s+1)),disabled:!i.hasB,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",marginTop:4,background:i.hasB?"#fff":"#f8fafc"}})]})]})]}),j=e.jsxs("div",{style:m,children:[e.jsx("div",{style:{fontWeight:700,marginBottom:12},children:"Animazione"}),e.jsx("button",{onClick:()=>N(!p),style:{width:"100%",padding:"10px 16px",borderRadius:8,border:"none",background:p?"#ef4444":"#22c55e",color:"#fff",cursor:"pointer",fontWeight:700,marginBottom:12},children:p?"â¸ Pausa":"â–¶ Play"}),e.jsxs("label",{style:{fontSize:12,color:"#6b7280"},children:["VelocitÃ ",e.jsx("input",{type:"range",min:.2,max:2,step:.1,value:L,onChange:t=>I(+t.target.value),style:{width:"100%",marginTop:6}})]})]}),v=e.jsxs("div",{style:{...m,background:"#f8fafc"},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:12},children:"ProprietÃ "}),e.jsxs("div",{style:{fontSize:13,display:"grid",gap:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Limitato inf.:"}),e.jsx("strong",{style:{color:o.lowerBounded?"#059669":"#dc2626"},children:o.lowerBounded?"SÃ¬":"No"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Limitato sup.:"}),e.jsx("strong",{style:{color:o.upperBounded?"#059669":"#dc2626"},children:o.upperBounded?"SÃ¬":"No"})]}),e.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:10,marginTop:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"baseline"},children:[e.jsx("span",{children:"inf ="}),e.jsx("strong",{style:{marginLeft:"auto"},children:o.inf}),o.hasMin&&e.jsx("span",{style:{color:"#059669",fontSize:11},children:"(= min)"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"baseline",marginTop:6},children:[e.jsx("span",{children:"sup ="}),e.jsx("strong",{style:{marginLeft:"auto"},children:o.sup}),o.hasMax&&e.jsx("span",{style:{color:"#059669",fontSize:11},children:"(= max)"})]})]})]})]}),B=e.jsxs("div",{style:{marginTop:16,background:"#eff6ff",borderRadius:12,padding:16,fontSize:13,color:"#1e40af"},children:[e.jsx("strong",{children:"ðŸ’¡ Legenda:"}),e.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:20},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Punto pieno"})," = estremo incluso (la pallina puÃ² toccarlo e rimbalza)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Punto vuoto"})," = estremo escluso (la pallina si avvicina ma non lo raggiunge mai)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Frecce"})," = intervallo illimitato (la pallina prosegue all'infinito)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"inf â‰  min"})," quando l'estremo esiste ma non appartiene all'insieme"]})]})]});return u?e.jsx(z,{title:"Intervalli sulla retta reale",description:"Visualizza intervalli aperti, chiusi e semirette. La pallina rimbalza sugli estremi inclusi.",children:e.jsxs("div",{style:{display:"grid",gap:12},children:[b,g,y,j,v,B]})}):R?e.jsx(z,{title:"Intervalli sulla retta reale",description:"Visualizza intervalli aperti, chiusi e semirette. La pallina rimbalza sugli estremi inclusi.",children:e.jsxs("div",{style:{display:"grid",gap:12},children:[b,g,e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:4},children:[y,j]}),v,B]})}):T?e.jsxs(z,{title:"Intervalli sulla retta reale",description:"Visualizza intervalli aperti, chiusi e semirette. La pallina rimbalza sugli estremi inclusi.",children:[b,g,e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginTop:16},children:[y,j,v]}),B]}):e.jsx(z,{title:"Intervalli sulla retta reale",description:"Visualizza intervalli aperti, chiusi e semirette. La pallina rimbalza sugli estremi inclusi.",children:e.jsxs("div",{style:{display:"grid",gap:12},children:[b,g,e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:[y,j,v]}),B]})})}export{G as default};
