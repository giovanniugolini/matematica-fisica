import{r as u,j as e}from"./index-B_gVeGiv.js";import"./katex-p018AHG0.js";import{D}from"./StepByStep-BYyVPvbC.js";import{u as re,R as N,T as R,C as P}from"./Responsive-CZkJ6WC4.js";import{r as G}from"./random-DShgH4QN.js";import{c as F}from"./formatting-BPjMr18d.js";function w(i){const d=[...i];for(let r=d.length-1;r>0;r--){const x=Math.floor(Math.random()*(r+1));[d[r],d[x]]=[d[x],d[r]]}return d}function le(i){return i.key==="instant"?"Subito":i.minutes<60?`${i.minutes} min`:i.minutes<24*60?`${Math.round(i.minutes/60)} h`:i.minutes<7*24*60?`${Math.round(i.minutes/(24*60))} g`:i.minutes<30*24*60?`${Math.round(i.minutes/(7*24*60))} sett`:`~${Math.round(i.minutes/(30*24*60))} mese`}const v=[{key:"instant",label:"Subito",minutes:0,retention:100},{key:"20m",label:"20 min",minutes:20,retention:60},{key:"1h",label:"1 ora",minutes:60,retention:44},{key:"8h",label:"8 ore",minutes:8*60,retention:35},{key:"1d",label:"1 giorno",minutes:24*60,retention:30},{key:"2d",label:"2 giorni",minutes:2*24*60,retention:27},{key:"1w",label:"1 sett.",minutes:7*24*60,retention:24},{key:"1m",label:"1 mese",minutes:30*24*60,retention:21}];function ae(i){const d=i.filter(l=>l.key!=="instant"),r=d[G(0,d.length-1)],x=d[G(0,d.length-1)],p=`${r.retention}%`,$=w(d.filter(l=>l.key!==r.key).slice(0,3).map(l=>`${l.retention}%`)),f=w([{id:"a",text:p},{id:"b",text:$[0]??"60%"},{id:"c",text:$[1]??"30%"},{id:"d",text:$[2]??"20%"}]),M=f.find(l=>l.text===p).id,k=x.label,L=w(d.filter(l=>l.key!==x.key).slice(0,3).map(l=>l.label)),C=w([{id:"a",text:k},{id:"b",text:L[0]??"1 ora"},{id:"c",text:L[1]??"1 giorno"},{id:"d",text:L[2]??"1 mese"}]),B=C.find(l=>l.text===k).id,z=w([{id:"a",text:"La memoria aumenta col tempo"},{id:"b",text:"Senza ripasso si dimentica velocemente"},{id:"c",text:"Tutti ricordano sempre il 100%"},{id:"d",text:"Il tempo non conta"}]),H=z.find(l=>l.text.startsWith("Senza ripasso")).id;return[{id:"q1",prompt:`Dopo ${r.label}, quanto ricordiamo circa?`,choices:f,correctId:M,explainOk:`SÃ¬: a ${r.label} l'ordinata Ã¨ circa ${r.retention}%.`,explainNo:`No: a ${r.label} il punto Ã¨ vicino a ${r.retention}% sull'asse y.`},{id:"q2",prompt:`Se ricordiamo circa il ${x.retention}%, quale tempo corrisponde?`,choices:C,correctId:B,explainOk:`SÃ¬: ${x.retention}% si legge circa a ${x.label}.`,explainNo:`No: cerca ~${x.retention}% sull'asse y e leggi il tempo sull'asse x.`},{id:"q3",prompt:"Qual Ã¨ l'idea principale della curva?",choices:z,correctId:H,explainOk:"Esatto: la curva scende molto all'inizio e poi si appiattisce.",explainNo:"No: osserva l'andamento: calo rapido all'inizio, poi piÃ¹ graduale."}]}function ue(){const{isMobile:i,isTablet:d}=re(),[r,x]=u.useState("20m"),[p,$]=u.useState(!1),[f,M]=u.useState(!1),k=v.find(t=>t.key===r)??v[0],[L,C]=u.useState({}),[B,z]=u.useState({}),[H,l]=u.useState(0),X=u.useMemo(()=>ae(v),[H]),Y=u.useCallback((t,s)=>{C(o=>({...o,[t]:s}))},[]),K=u.useCallback(t=>{z(s=>({...s,[t]:!0}))},[]),V=u.useCallback(()=>{C({}),z({})},[]),_=u.useCallback(()=>{l(t=>t+1),C({}),z({})},[]),W=700,h=340,m=i?50:60,I=20,S=20,g=i?50:56,O=W-m-I,E=h-S-g,J=v.map((t,s)=>{const o=v.length===1?0:s/(v.length-1);return m+o*O}),Q=t=>{const s=F(t,0,100);return S+(1-s/100)*E},c=v.map((t,s)=>({...t,x:J[s],y:Q(t.retention)})),U=u.useMemo(()=>{if(c.length<2)return"";const t=.22,s=[];s.push(`M ${c[0].x.toFixed(2)} ${c[0].y.toFixed(2)}`);for(let o=0;o<c.length-1;o++){const a=c[Math.max(0,o-1)],b=c[o],y=c[o+1],T=c[Math.min(c.length-1,o+2)],ie=b.x+(y.x-a.x)*t,se=b.y+(y.y-a.y)*t,oe=y.x-(T.x-b.x)*t,ne=y.y-(T.y-b.y)*t;s.push(`C ${ie.toFixed(2)} ${se.toFixed(2)}, ${oe.toFixed(2)} ${ne.toFixed(2)}, ${y.x.toFixed(2)} ${y.y.toFixed(2)}`)}return s.join(" ")},[c]),j=c.find(t=>t.key===r)??c[0],n={axisLine:{stroke:"#94a3b8",strokeWidth:2},axisLineHighlight:{stroke:"#3b82f6",strokeWidth:3},gridLine:{stroke:"#e2e8f0",strokeWidth:1},curve:{fill:"none",stroke:"#8b5cf6",strokeWidth:3,strokeLinecap:"round"},dot:{fill:"#8b5cf6",stroke:"#fff",strokeWidth:2,cursor:"pointer"},dotSelected:{fill:"#7c3aed",stroke:"#fff",strokeWidth:3},guideLine:{stroke:"#8b5cf6",strokeWidth:1.5,strokeDasharray:"4 4",opacity:.6},tooltipBox:{fill:"#1e293b",rx:8},tooltipText:{fill:"#fff",fontSize:i?12:14,fontWeight:600},tooltipSubtext:{fill:"#94a3b8",fontSize:i?10:12},axisLabel:{fill:"#64748b",fontSize:i?10:12},axisLabelHighlight:{fill:"#3b82f6",fontWeight:600},tickLabel:{fill:"#64748b",fontSize:i?9:11}},Z=e.jsxs("svg",{viewBox:`0 0 ${W} ${h}`,style:{width:"100%",height:"auto",display:"block"},role:"img","aria-label":"Grafico della curva di Ebbinghaus",children:[[0,20,40,60,80,100].map(t=>{const s=Q(t);return e.jsxs("g",{children:[e.jsx("line",{x1:m,y1:s,x2:W-I,y2:s,style:n.gridLine}),e.jsxs("text",{x:m-8,y:s+4,textAnchor:"end",style:n.tickLabel,children:[t,"%"]})]},t)}),e.jsx("line",{x1:m,y1:S,x2:m,y2:h-g,style:f?n.axisLineHighlight:n.axisLine}),e.jsx("line",{x1:m,y1:h-g,x2:W-I,y2:h-g,style:p?n.axisLineHighlight:n.axisLine}),e.jsx("text",{x:m-36,y:S+E/2,transform:`rotate(-90 ${m-36} ${S+E/2})`,textAnchor:"middle",style:{...n.axisLabel,...f?n.axisLabelHighlight:{}},children:"Memoria (%)"}),e.jsx("text",{x:m+O/2,y:h-8,textAnchor:"middle",style:{...n.axisLabel,...p?n.axisLabelHighlight:{}},children:"Tempo trascorso"}),e.jsx("path",{d:U,style:n.curve}),c.map(t=>{const s=t.key===r;return e.jsxs("g",{children:[e.jsx("line",{x1:t.x,y1:h-g,x2:t.x,y2:h-g+6,style:p?n.axisLineHighlight:n.axisLine}),e.jsx("text",{x:t.x,y:h-g+(i?20:22),textAnchor:i?"end":"middle",transform:i?`rotate(-45 ${t.x} ${h-g+20})`:void 0,style:n.tickLabel,children:t.label}),e.jsx("circle",{cx:t.x,cy:t.y,r:s?i?10:8:i?8:6,style:s?n.dotSelected:n.dot,onClick:()=>x(t.key),onMouseEnter:()=>!i&&x(t.key)})]},t.key)}),e.jsx("line",{x1:j.x,y1:j.y,x2:j.x,y2:h-g,style:n.guideLine}),e.jsx("line",{x1:m,y1:j.y,x2:j.x,y2:j.y,style:n.guideLine}),(()=>{const t=i?140:180,s=50;let o=j.x+12,a=j.y-s-10;return o=F(o,m+5,W-I-t-5),a=F(a,S+5,h-g-s-5),e.jsxs("g",{children:[e.jsx("rect",{x:o,y:a,width:t,height:s,style:n.tooltipBox}),e.jsxs("text",{x:o+10,y:a+20,style:n.tooltipText,children:[le(k)," â€¢ ",k.retention,"%"]}),e.jsx("text",{x:o+10,y:a+38,style:n.tooltipSubtext,children:"Ricordo stimato"})]})})()]}),ee=e.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center",padding:"12px 0",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:p?"#dbeafe":"#f1f5f9",borderRadius:20,border:p?"2px solid #3b82f6":"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600,color:"#3b82f6"},children:"x"}),e.jsxs("span",{children:["Tempo: ",e.jsx("strong",{children:k.label})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:f?"#dbeafe":"#f1f5f9",borderRadius:20,border:f?"2px solid #3b82f6":"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600,color:"#8b5cf6"},children:"y"}),e.jsxs("span",{children:["Memoria: ",e.jsxs("strong",{children:[k.retention,"%"]})]})]})]}),te=e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"center"},children:[e.jsxs(R,{variant:p?"primary":"outline",onClick:()=>$(t=>!t),size:i?"sm":"md",children:[p?"âœ“ ":"","Asse X"]}),e.jsxs(R,{variant:f?"primary":"outline",onClick:()=>M(t=>!t),size:i?"sm":"md",children:[f?"âœ“ ":"","Asse Y"]})]}),A=e.jsxs(N,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:8},children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:"ðŸ§  Mini-Quiz"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx(R,{variant:"outline",onClick:_,size:"sm",children:"ðŸŽ² Nuovo"}),e.jsx(R,{variant:"ghost",onClick:V,size:"sm",children:"ðŸ”„ Reset"})]})]}),e.jsx("div",{style:{display:"grid",gap:16},children:X.map(t=>{const s=L[t.id],o=!!B[t.id],a=o&&s===t.correctId;return e.jsxs("div",{style:{padding:16,background:"#f8fafc",borderRadius:12,borderLeft:o?`4px solid ${a?"#22c55e":"#ef4444"}`:"4px solid #e2e8f0"},children:[e.jsx("div",{style:{fontWeight:500,marginBottom:12,fontSize:i?14:15},children:t.prompt}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:i?"1fr":"1fr 1fr",gap:8,marginBottom:12},children:t.choices.map(b=>{const y=s===b.id,T=o&&y;return e.jsx("button",{onClick:()=>Y(t.id,b.id),disabled:o,style:{padding:i?"12px 16px":"10px 14px",borderRadius:8,border:y?T?`2px solid ${a?"#22c55e":"#ef4444"}`:"2px solid #3b82f6":"1px solid #d1d5db",background:T?a?"#dcfce7":"#fef2f2":y?"#eff6ff":"#fff",cursor:o?"default":"pointer",fontSize:i?14:13,textAlign:"left",opacity:o&&!y?.6:1},children:b.text},b.id)})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx(R,{variant:"primary",onClick:()=>K(t.id),disabled:!s||o,size:"sm",children:"Verifica"}),o&&e.jsxs("div",{style:{padding:"8px 12px",background:a?"#dcfce7":"#fef2f2",borderRadius:8,color:a?"#166534":"#991b1b",fontSize:13,flex:1},children:[a?"âœ“ ":"âœ— ",a?t.explainOk:t.explainNo]})]})]},t.id)})})]}),q=e.jsxs(N,{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12},children:"ðŸ“ˆ Curva dell'oblio"}),Z,ee,e.jsx("div",{style:{marginTop:8},children:te}),(p||f)&&e.jsxs("div",{style:{marginTop:12,padding:12,background:"#eff6ff",borderRadius:8,fontSize:13,color:"#1e40af"},children:[p&&e.jsxs("div",{children:[e.jsx("strong",{children:"Asse x:"})," indica quanto tempo Ã¨ passato."]}),f&&e.jsxs("div",{children:[e.jsx("strong",{children:"Asse y:"})," indica la percentuale di informazioni ricordate."]})]})]});return i?e.jsxs(D,{title:"Curva dell'oblio",description:"Ebbinghaus: memoria nel tempo",children:[q,e.jsx("div",{style:{marginTop:16},children:A}),e.jsx(P,{title:"ðŸ’¡ Come funziona",defaultOpen:!1,children:e.jsxs("div",{style:{fontSize:13,color:"#475569"},children:[e.jsxs("p",{style:{marginBottom:8},children:["La ",e.jsx("strong",{children:"curva dell'oblio"})," di Ebbinghaus mostra come la memoria decade nel tempo senza ripasso."]}),e.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[e.jsx("li",{children:"Subito dopo l'apprendimento: 100%"}),e.jsx("li",{children:"Dopo 20 minuti: ~60%"}),e.jsx("li",{children:"Dopo 1 giorno: ~30%"}),e.jsx("li",{children:"Il ripasso rallenta il decadimento!"})]})]})})]}):d?e.jsxs(D,{title:"Curva dell'oblio (Ebbinghaus)",description:"Come la memoria decade nel tempo senza ripasso",children:[q,e.jsx("div",{style:{marginTop:16},children:A}),e.jsx(P,{title:"ðŸ’¡ Approfondimento",defaultOpen:!1,children:e.jsxs("div",{style:{fontSize:14,color:"#475569"},children:[e.jsx("p",{children:"Hermann Ebbinghaus (1850-1909) studiÃ² la memoria umana e scoprÃ¬ che dimentichiamo rapidamente nelle prime ore, poi il decadimento rallenta."}),e.jsxs("p",{style:{marginTop:8},children:[e.jsx("strong",{children:"Strategia:"})," il ripasso spaziato (spaced repetition) combatte questa curva, consolidando i ricordi nel tempo."]})]})})]}):e.jsxs(D,{title:"Curva dell'oblio (Ebbinghaus)",description:"Esplora come la memoria decade nel tempo senza ripasso. Leggi gli assi: x = tempo, y = % ricordata.",children:[q,e.jsx("div",{style:{marginTop:16},children:A}),e.jsxs(N,{style:{marginTop:16,background:"#f0f9ff"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8,color:"#0369a1"},children:"ðŸ’¡ Cosa ci insegna questa curva?"}),e.jsxs("div",{style:{fontSize:14,color:"#0c4a6e"},children:[e.jsxs("p",{style:{marginBottom:8},children:["Hermann Ebbinghaus (1850-1909) fu il primo a studiare scientificamente la memoria. ScoprÃ¬ che ",e.jsx("strong",{children:"dimentichiamo molto velocemente nelle prime ore"}),", poi il decadimento rallenta."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Implicazione pratica:"})," il ",e.jsx("em",{children:"ripasso spaziato"})," (spaced repetition) Ã¨ la strategia piÃ¹ efficace per combattere l'oblio. Ripassare poco ma spesso funziona meglio che studiare tutto in una volta!"]})]})]})]})}export{ue as default};
