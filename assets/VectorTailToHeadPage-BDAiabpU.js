import{r as S,j as e}from"./index-B_gVeGiv.js";import"./katex-p018AHG0.js";import{D as Z}from"./StepByStep-BYyVPvbC.js";const k=600,R=500,V=25,W="#3b82f6",B="#22c55e",F="#ef4444",y=o=>k/2+o*V,f=o=>R/2-o*V,O=()=>{const o=Math.round((Math.random()*8-4)*2)/2;return o===0?1:o},P=()=>Math.round((Math.random()*6-3)*2)/2;function ee(){const[o,M]=S.useState(()=>typeof window<"u"?window.innerWidth:1200);S.useEffect(()=>{const a=()=>M(window.innerWidth);return window.addEventListener("resize",a,{passive:!0}),()=>window.removeEventListener("resize",a)},[]);const t=o<640,h=o>=640&&o<1024,n=o>=1024;return{w:o,isMobile:t,isTablet:h,isDesktop:n}}function H({x0:o,y0:M,dx:t,dy:h,color:n,strokeWidth:a=3,dashed:$=!1}){const p=y(o),L=f(M),l=y(o+t),r=f(M+h),d=Math.atan2(r-L,l-p),i=12,m=l-i*Math.cos(d-Math.PI/6),j=r-i*Math.sin(d-Math.PI/6),u=l-i*Math.cos(d+Math.PI/6),D=r-i*Math.sin(d+Math.PI/6);return e.jsxs("g",{children:[e.jsx("line",{x1:p,y1:L,x2:l,y2:r,stroke:n,strokeWidth:a,strokeDasharray:$?"6 4":void 0}),e.jsx("polygon",{points:`${l},${r} ${m},${j} ${u},${D}`,fill:n})]})}function oe(){const{isMobile:o,isTablet:M}=ee(),[t,h]=S.useState({x0:0,y0:0,dx:4,dy:2}),[n,a]=S.useState({x0:0,y0:0,dx:2,dy:3}),[$,p]=S.useState(!1),[L,l]=S.useState(!1),[r,d]=S.useState("none"),[i,m]=S.useState(null),j=S.useRef(!1),u=L?{x0:0,y0:0,dx:t.dx+n.dx,dy:t.dy+n.dy}:{x0:t.x0,y0:t.y0,dx:n.x0+n.dx-t.x0,dy:n.y0+n.dy-t.y0},D=(s,w)=>g=>{const C=parseFloat(g.target.value)||0;p(!1),l(!1),d("none"),m(null),s==="A"?h(b=>({...b,[w]:C})):a(b=>({...b,[w]:C}))},G=()=>{h({x0:P(),y0:P(),dx:O(),dy:O()}),a({x0:P(),y0:P(),dx:O(),dy:O()}),p(!1),l(!1),d("none"),m(null)},U=()=>{h({x0:0,y0:0,dx:4,dy:2}),a({x0:0,y0:0,dx:2,dy:3}),p(!1),l(!1),d("none"),m(null)},_=()=>{if(j.current)return;j.current=!0,p(!1),l(!1),d("none");const s=n.x0,w=n.y0,g=t.x0+t.dx,C=t.y0+t.dy,b=800;let v=null;const T=A=>{v||(v=A);const x=Math.min(1,(A-v)/b);a(c=>({...c,x0:s+(g-s)*x,y0:w+(C-w)*x})),x<1?requestAnimationFrame(T):(j.current=!1,p(!0))};requestAnimationFrame(T)},J=()=>{if(j.current)return;j.current=!0,p(!0),l(!0),d("none");const s=t.x0,w=t.y0,g=n.x0,C=n.y0,b=800;let v=null;const T=A=>{v||(v=A);const x=Math.min(1,(A-v)/b);h(c=>({...c,x0:s*(1-x),y0:w*(1-x)})),a(c=>({...c,x0:g*(1-x),y0:C*(1-x)})),x<1?requestAnimationFrame(T):(h(c=>({...c,x0:0,y0:0})),a(c=>({...c,x0:0,y0:0})),j.current=!1)};requestAnimationFrame(T)},K=s=>{if(j.current||r==="none")return;const g=s.currentTarget.getBoundingClientRect(),C=s.clientX-g.left,b=s.clientY-g.top,v=k/g.width,T=R/g.height,A=C*v,x=b*T,c=(A-k/2)/V,X=(R/2-x)/V;if(!i){m({x:c,y:X});return}const Y=c-i.x,q=X-i.y;r==="A"?h({x0:i.x,y0:i.y,dx:Y,dy:q}):a({x0:i.x,y0:i.y,dx:Y,dy:q}),m(null),d("none"),p(!1),l(!1)},I={background:"#fff",borderRadius:12,padding:12,boxShadow:"0 1px 4px rgba(0,0,0,0.1)"},z={padding:"8px 14px",borderRadius:8,border:"1px solid #d1d5db",background:"#fff",cursor:"pointer",fontSize:13,fontWeight:500},N=o?{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,width:"100%"}:{display:"flex",gap:8,flexWrap:"wrap"},Q=o?{display:"grid",gridTemplateColumns:"1fr",gap:12,marginTop:12}:M?{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12}:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginTop:12},E=r!=="none"?`Disegna vettore ${r}: clicca la coda, poi la punta`:null;return e.jsx(Z,{title:"Somma vettoriale â€“ metodo punta-coda",description:"Genera vettori casuali o disegnali nel piano. Anima il metodo punta-coda per visualizzare la somma.",children:e.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[e.jsxs("div",{style:I,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:o?"stretch":"center",marginBottom:12,flexWrap:"wrap",gap:8},children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:"Piano cartesiano"}),e.jsxs("div",{style:N,children:[e.jsx("button",{onClick:G,style:z,children:"ðŸŽ² Casuali"}),e.jsx("button",{onClick:_,style:{...z,background:"#dbeafe",borderColor:"#3b82f6"},children:"â–¶ Punta-coda"}),e.jsx("button",{onClick:J,style:z,children:"ðŸ“ All'origine"}),e.jsx("button",{onClick:U,style:z,children:"Reset"})]})]}),e.jsxs("svg",{width:"100%",viewBox:`0 0 ${k} ${R}`,style:{maxHeight:"60vh",cursor:r!=="none"?"crosshair":"default"},onClick:K,children:[e.jsx("defs",{children:e.jsxs("pattern",{id:"gridVec",width:"25",height:"25",patternUnits:"userSpaceOnUse",children:[e.jsx("rect",{width:"25",height:"25",fill:"#fafafa"}),e.jsx("path",{d:"M25 0 H0 V25",fill:"none",stroke:"#e5e7eb",strokeWidth:1})]})}),e.jsx("rect",{x:0,y:0,width:k,height:R,fill:"url(#gridVec)"}),e.jsx("line",{x1:0,y1:f(0),x2:k,y2:f(0),stroke:"#374151",strokeWidth:1.5}),e.jsx("line",{x1:y(0),y1:0,x2:y(0),y2:R,stroke:"#374151",strokeWidth:1.5}),e.jsx("text",{x:k-15,y:f(0)-8,fontSize:14,fill:"#374151",children:"x"}),e.jsx("text",{x:y(0)+8,y:18,fontSize:14,fill:"#374151",children:"y"}),[-8,-4,4,8].map(s=>e.jsxs("g",{children:[e.jsx("text",{x:y(s),y:f(0)+16,fontSize:10,textAnchor:"middle",fill:"#6b7280",children:s}),e.jsx("text",{x:y(0)-12,y:f(s)+4,fontSize:10,textAnchor:"end",fill:"#6b7280",children:s})]},`tick-${s}`)),e.jsx(H,{x0:t.x0,y0:t.y0,dx:t.dx,dy:t.dy,color:W}),e.jsx("text",{x:y(t.x0+t.dx/2)+10,y:f(t.y0+t.dy/2)-10,fontSize:14,fill:W,fontWeight:600,children:"A"}),e.jsx(H,{x0:n.x0,y0:n.y0,dx:n.dx,dy:n.dy,color:B}),e.jsx("text",{x:y(n.x0+n.dx/2)+10,y:f(n.y0+n.dy/2)-10,fontSize:14,fill:B,fontWeight:600,children:"B"}),$&&e.jsxs(e.Fragment,{children:[e.jsx(H,{x0:u.x0,y0:u.y0,dx:u.dx,dy:u.dy,color:F,dashed:!0}),e.jsx("text",{x:y(u.x0+u.dx/2)-20,y:f(u.y0+u.dy/2)+20,fontSize:14,fill:F,fontWeight:600,children:"A+B"})]}),i&&e.jsx("circle",{cx:y(i.x),cy:f(i.y),r:6,fill:r==="A"?W:B})]}),E&&e.jsxs("div",{style:{marginTop:8,padding:8,background:"#fef3c7",borderRadius:8,fontSize:13,color:"#92400e"},children:[E," ",i&&`(coda posizionata in ${i.x.toFixed(1)}, ${i.y.toFixed(1)})`]})]}),e.jsxs("div",{style:Q,children:[e.jsxs("div",{style:{...I,borderLeft:`4px solid ${W}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,gap:8},children:[e.jsx("div",{style:{fontWeight:600,color:W},children:"Vettore A"}),e.jsx("button",{onClick:()=>{d("A"),m(null)},style:{...z,padding:"4px 10px",fontSize:12,background:r==="A"?"#dbeafe":"#fff"},children:"âœï¸ Disegna"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:o?"1fr 1fr":"1fr 1fr 1fr 1fr",gap:6},children:["x0","y0","dx","dy"].map(s=>e.jsxs("label",{style:{fontSize:12},children:[e.jsx("span",{style:{color:"#64748b"},children:s==="x0"?"xâ‚€":s==="y0"?"yâ‚€":s==="dx"?"Î”x":"Î”y"}),e.jsx("input",{type:"number",step:.5,value:t[s],onChange:D("A",s),style:{width:"100%",padding:6,borderRadius:6,border:"1px solid #d1d5db",marginTop:2}})]},s))})]}),e.jsxs("div",{style:{...I,borderLeft:`4px solid ${B}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,gap:8},children:[e.jsx("div",{style:{fontWeight:600,color:B},children:"Vettore B"}),e.jsx("button",{onClick:()=>{d("B"),m(null)},style:{...z,padding:"4px 10px",fontSize:12,background:r==="B"?"#dcfce7":"#fff"},children:"âœï¸ Disegna"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:o?"1fr 1fr":"1fr 1fr 1fr 1fr",gap:6},children:["x0","y0","dx","dy"].map(s=>e.jsxs("label",{style:{fontSize:12},children:[e.jsx("span",{style:{color:"#64748b"},children:s==="x0"?"xâ‚€":s==="y0"?"yâ‚€":s==="dx"?"Î”x":"Î”y"}),e.jsx("input",{type:"number",step:.5,value:n[s],onChange:D("B",s),style:{width:"100%",padding:6,borderRadius:6,border:"1px solid #d1d5db",marginTop:2}})]},s))})]}),e.jsxs("div",{style:{...I,background:"#fef2f2",borderLeft:`4px solid ${F}`},children:[e.jsx("div",{style:{fontWeight:600,color:F,marginBottom:8},children:"Risultato"}),e.jsxs("div",{style:{fontSize:13,display:"grid",gap:4},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:W,fontWeight:600},children:"A"})," = (",t.dx.toFixed(1),", ",t.dy.toFixed(1),")"]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:B,fontWeight:600},children:"B"})," = (",n.dx.toFixed(1),", ",n.dy.toFixed(1),")"]}),e.jsxs("div",{style:{borderTop:"1px solid #fecaca",paddingTop:6,marginTop:4},children:[e.jsx("span",{style:{color:F,fontWeight:700},children:"A + B"})," = (",(t.dx+n.dx).toFixed(1),","," ",(t.dy+n.dy).toFixed(1),")"]}),$&&e.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:["|A + B| = ",Math.hypot(t.dx+n.dx,t.dy+n.dy).toFixed(2)]})]})]})]}),e.jsxs("div",{style:{marginTop:12,background:"#eff6ff",borderRadius:12,padding:12,fontSize:13,color:"#1e3a8a"},children:[e.jsx("strong",{children:"Metodo punta-coda:"}),` Per sommare due vettori, si trasla il secondo vettore in modo che la sua coda coincida con la punta del primo. Il vettore somma va dalla coda del primo alla punta del secondo. Clicca "â–¶ Punta-coda" per vedere l'animazione.`]})]})})}export{oe as default};
